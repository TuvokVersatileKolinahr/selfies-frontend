(function(e){"use strict";var t=e.Ractive;var n=function(){var e={el:void 0,append:false,template:{v:1,t:[]},preserveWhitespace:false,sanitize:false,stripComments:true,data:{},computed:{},magic:false,modifyArrays:true,adapt:[],isolated:false,twoway:true,lazy:false,noIntro:false,transitionsEnabled:true,complete:void 0,noCssTransform:false,debug:false};return e}();var r={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){if((e/=.5)<1){return.5*Math.pow(e,3)}return.5*(Math.pow(e-2,3)+2)}};var i=[];var s=Object.prototype.hasOwnProperty;var o=function(){var e=Object.prototype.toString;return function(t){return e.call(t)==="[object Array]"}}();var u=function(){var e=Object.prototype.toString;return function(t){return t&&e.call(t)==="[object Object]"}}();var a=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};var f=function(e,t,n,r,i){var s,o,u;e.push(function(){o=e.interpolate});u=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/;s={number:function(e,t){var n;if(!i(e)||!i(t)){return null}e=+e;t=+t;n=t-e;if(!n){return function(){return e}}return function(t){return e+t*n}},array:function(e,t){var r,i,s,u;if(!n(e)||!n(t)){return null}r=[];i=[];u=s=Math.min(e.length,t.length);while(u--){i[u]=o(e[u],t[u])}for(u=s;u<e.length;u+=1){r[u]=e[u]}for(u=s;u<t.length;u+=1){r[u]=t[u]}return function(e){var t=s;while(t--){r[t]=i[t](e)}return r}},object:function(e,n){var i,s,u,a,f;if(!r(e)||!r(n)){return null}i=[];a={};u={};for(f in e){if(t.call(e,f)){if(t.call(n,f)){i.push(f);u[f]=o(e[f],n[f])}else{a[f]=e[f]}}}for(f in n){if(t.call(n,f)&&!t.call(e,f)){a[f]=n[f]}}s=i.length;return function(e){var t=s,n;while(t--){n=i[t];a[n]=u[n](e)}return a}},cssLength:function(e,t){var n,r,i,s,o,a,f,l;if(e!==0&&typeof e!=="string"||t!==0&&typeof t!=="string"){return null}n=u.exec(e);r=u.exec(t);i=n?n[2]:"";s=r?r[2]:"";if(i&&s&&i!==s){return null}f=i||s;o=n?+n[1]:0;a=r?+r[1]:0;l=a-o;if(!l){return function(){return o+f}}return function(e){return o+e*l+f}}};return s}(i,s,o,u,a);var l=function(){var e;if(typeof document==="undefined"){e=false}else{e=document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}return e}();var c=function(e,t){var n=e.indexOf(t);if(n!==-1){e.splice(n,1)}};var h=function(){function i(e){setTimeout(e,0)}function s(e,t){return function(){var n;while(n=e.shift()){n(t)}}}function o(t,n,r,i){var s;if(n===t){throw new TypeError("A promise's fulfillment handler cannot return the same promise")}if(n instanceof e){n.then(r,i)}else if(n&&(typeof n==="object"||typeof n==="function")){try{s=n.then}catch(u){i(u);return}if(typeof s==="function"){var a,f,l;f=function(e){if(a){return}a=true;o(t,e,r,i)};l=function(e){if(a){return}a=true;i(e)};try{s.call(n,f,l)}catch(u){if(!a){i(u);a=true;return}}}else{r(n)}}else{r(n)}}var e,t={},n={},r={};if(typeof h==="function"){e=h}else{e=function(u){var a=[],f=[],l=t,c,h,p,d,v,m;p=function(e){return function(r){if(l!==t){return}c=r;l=e;h=s(l===n?a:f,c);i(h)}};d=p(n);v=p(r);try{u(d,v)}catch(g){v(g)}m={then:function(n,r){var s=new e(function(e,u){var c=function(t,n,r){if(typeof t==="function"){n.push(function(n){var r;try{r=t(n);o(s,r,e,u)}catch(i){u(i)}})}else{n.push(r)}};c(n,a,e);c(r,f,u);if(l!==t){i(h)}});return s}};m["catch"]=function(e){return this.then(null,e)};return m};e.all=function(t){return new e(function(e,n){var r=[],i,s,o;if(!t.length){e(r);return}o=function(s){t[s].then(function(t){r[s]=t;if(!--i){e(r)}},n)};i=s=t.length;while(s--){o(s)}})};e.resolve=function(t){return new e(function(e){e(t)})};e.reject=function(t){return new e(function(e,n){n(t)})}}return e}();var p=function(){var e=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(n){return(n||"").replace(e,".$1")}}();var d=function(e){do{if(e.context){return e.context}}while(e=e.parent);return""};var v=function(e,t){if(e===null&&t===null){return true}if(typeof e==="object"||typeof t==="object"){return false}return e===t};var m=function(e,t,n){var r;e.push(function(){return r=e.runloop});var i=function(e,t,n,r,i){this.root=e;this.keypath=t;this.priority=i;this.otherInstance=n;this.otherKeypath=r;this.bind();this.value=this.root.viewmodel.get(this.keypath)};i.prototype={setValue:function(e){var i=this;if(this.updating||this.counterpart&&this.counterpart.updating){this.value=e;return}if(t(e)&&e._ractive&&e._ractive.setting){return}if(!n(e,this.value)){this.updating=true;r.addViewmodel(this.otherInstance.viewmodel);this.otherInstance.viewmodel.set(this.otherKeypath,e);this.value=e;r.scheduleTask(function(){return i.updating=false})}},bind:function(){this.root.viewmodel.register(this.keypath,this)},rebind:function(e){this.unbind();this.keypath=e;this.counterpart.otherKeypath=e;this.bind()},unbind:function(){this.root.viewmodel.unregister(this.keypath,this)}};return function(t,n,r,s){var o,u,a,f,l,c;o=r+"="+s;a=t.bindings;if(a[o]){return}a[o]=true;u=t.instance;f=t.parentFragment.priority;l=new i(n,r,u,s,f);a.push(l);if(u.twoway){c=new i(u,s,n,r,1);a.push(c);l.counterpart=c;c.counterpart=l}}}(i,o,v);var g=function(e,t,n){function s(e,t){var n;if(t===".")return e;n=e?e.split("."):[];if(t.substr(0,3)==="../"){while(t.substr(0,3)==="../"){if(!n.length){throw new Error(r)}n.pop();t=t.substring(3)}n.push(t);return n.join(".")}if(!e){return t.replace(/^\.\/?/,"")}return e+t.replace(/^\.\//,".")}var r,i;r='Could not resolve reference - too many "../" prefixes';i={evaluateWrapped:true};return function o(r,u,a){var f,l,c,h,p,d,v,m,g,y;u=e(u);if(u.substr(0,2)==="~/"){return u.substring(2)}if(u.charAt(0)==="."){return s(t(a),u)}l=u.split(".")[0];do{f=a.context;if(!f){continue}d=true;p=r.viewmodel.get(f,i);if(p&&(typeof p==="object"||typeof p==="function")&&l in p){return f+"."+u}}while(a=a.parent);if(l in r.data||l in r.viewmodel.computations){return u}if(r._parent&&!r.isolated){a=r.component.parentFragment;if(a.indexRefs&&(c=a.indexRefs[u])!==undefined){r.component.indexRefBindings[u]=u;r.viewmodel.set(u,c,true);return}h=o(r._parent,u,a);if(h){v=h.split(".");m=u.split(".");while(v.length>1&&m.length>1&&v[v.length-1]===m[m.length-1]){v.pop();m.pop()}g=v.join(".");y=m.join(".");r.viewmodel.set(y,r._parent.viewmodel.get(g),true);n(r.component,r._parent,g,y);return u}}if(!d){return u}if(r.viewmodel.get(u)!==undefined){return u}}}(p,d,m);var y=function(e){function n(e){e.detach()}function r(e){e.detachNodes()}function i(e){if(!e.ready||e.outros.length||e.outroChildren)return;if(!e.outrosComplete){if(e.parent){e.parent.decrementOutros(e)}else{e.detachNodes()}e.outrosComplete=true}if(!e.intros.length&&!e.totalChildren){if(typeof e.callback==="function"){e.callback()}if(e.parent){e.parent.decrementTotal()}}}var t=function(e,t){this.callback=e;this.parent=t;this.intros=[];this.outros=[];this.children=[];this.totalChildren=this.outroChildren=0;this.detachQueue=[];this.outrosComplete=false;if(t){t.addChild(this)}};t.prototype={addChild:function(e){this.children.push(e);this.totalChildren+=1;this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1;i(this)},decrementTotal:function(){this.totalChildren-=1;i(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},remove:function(t){var n=t.isIntro?this.intros:this.outros;e(n,t);i(this)},init:function(){this.ready=true;i(this)},detachNodes:function(){this.detachQueue.forEach(n);this.children.forEach(r)}};return t}(c);var b=function(e,t,n,r,i){function a(){var e,t,n;for(e=0;e<s.viewmodels.length;e+=1){t=s.viewmodels[e];n=t.applyChanges();if(n){t.ractive.fire("change",n)}}s.viewmodels.length=0;f();for(e=0;e<s.views.length;e+=1){s.views[e].update()}s.views.length=0;for(e=0;e<s.tasks.length;e+=1){s.tasks[e]()}s.tasks.length=0;if(s.viewmodels.length)return a()}function f(){var e,t,n;if(!u.length){return}e=u.splice(0,u.length);while(t=e.pop()){if(t.keypath){continue}n=r(t.root,t.ref,t.parentFragment);if(n!==undefined){t.resolve(n)}else{u.push(t)}}}var s,o,u=[];o={start:function(e,t){var r,o;if(t){r=new n(function(e){return o=e})}s={previousBatch:s,transitionManager:new i(o,s&&s.transitionManager),views:[],tasks:[],viewmodels:[]};if(e){s.viewmodels.push(e.viewmodel)}return r},end:function(){a();s.transitionManager.init();s=s.previousBatch},addViewmodel:function(e){if(s){if(s.viewmodels.indexOf(e)===-1){s.viewmodels.push(e)}}else{e.applyChanges()}},registerTransition:function(e){e._manager=s.transitionManager;s.transitionManager.add(e)},addView:function(e){s.views.push(e)},addUnresolved:function(e){u.push(e)},removeUnresolved:function(e){t(u,e)},detachWhenReady:function(e){s.transitionManager.detachQueue.push(e)},scheduleTask:function(e){if(!s){e()}else{s.tasks.push(e)}}};e.runloop=o;return o}(i,c,h,g,y);var w=function(){var e=/^\s*[0-9]+\s*$/;return function(t){return e.test(t)?[]:{}}}();var E=function(e,t,n){function o(t,n,r){function l(t){var r,i;t.value=n;if(t.updating){return}i=t.ractive;r=t.keypath;t.updating=true;e.start(i);i.viewmodel.mark(r);e.end();t.updating=false}var i,s,o,u,a,f;i=t.obj;s=t.prop;if(r&&!r.configurable){if(s==="length"){return}throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable')}if(r){o=r.get;u=r.set}a=o||function(){return n};f=function(e){if(u){u(e)}n=o?o():e;f._ractiveWrappers.forEach(l)};f._ractiveWrappers=[t];Object.defineProperty(i,s,{get:a,set:f,enumerable:true,configurable:true})}var r,i;try{Object.defineProperty({},"test",{value:0});r={filter:function(e,t,r){var i,s,o,u,a;if(!t){return false}i=t.split(".");s=i.pop();o=i.join(".");if((u=r.viewmodel.wrapped[o])&&!u.magic){return false}a=r.get(o);if(n(a)&&/^[0-9]+$/.test(s)){return false}return a&&(typeof a==="object"||typeof a==="function")},wrap:function(e,t,n){return new i(e,t,n)}};i=function(e,t,n){var r,i,s,u;this.magic=true;this.ractive=e;this.keypath=n;this.value=t;r=n.split(".");this.prop=r.pop();i=r.join(".");this.obj=i?e.get(i):e.data;s=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop);if(s&&s.set&&(u=s.set._ractiveWrappers)){if(u.indexOf(this)===-1){u.push(this)}return}o(this,t,s)};i.prototype={get:function(){return this.value},reset:function(t){if(this.updating){return}this.updating=true;this.obj[this.prop]=t;e.addViewmodel(this.ractive.viewmodel);this.ractive.viewmodel.mark(this.keypath);this.updating=false},set:function(e,n){if(this.updating){return}if(!this.obj[this.prop]){this.updating=true;this.obj[this.prop]=t(e);this.updating=false}this.obj[this.prop][e]=n},teardown:function(){var e,t,n,r,i;if(this.updating){return false}e=Object.getOwnPropertyDescriptor(this.obj,this.prop);t=e&&e.set;if(!t){return}r=t._ractiveWrappers;i=r.indexOf(this);if(i!==-1){r.splice(i,1)}if(!r.length){n=this.obj[this.prop];Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:true,enumerable:true,configurable:true});this.obj[this.prop]=n}}}}catch(s){r=false}return r}(b,w,o);var S=function(e){return!!e}(E);var x={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};var T=function(e,t){var n;if(!e){n=function(e,n){if(n&&n!==t.html){throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information"}return document.createElement(e)}}else{n=function(e,n){if(!n||n===t.html){return document.createElement(e)}return document.createElementNS(n,e)}}return n}(l,x);var N=function(){var e=typeof document==="object";return e}();var C=function(e){var t;try{Object.defineProperty({},"test",{value:0});if(e){Object.defineProperty(document.createElement("div"),"test",{value:0})}t=Object.defineProperty}catch(n){t=function(e,t,n){e[t]=n.value}}return t}(N);var k=function(e,t,n){var r;try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}if(n){Object.defineProperties(e("div"),{test:{value:0}})}r=Object.defineProperties}catch(i){r=function(e,n){var r;for(r in n){if(n.hasOwnProperty(r)){t(e,r,n[r])}}}}return r}(T,C,N);var L=function(e){return function(n,r,i){var s;if(typeof r!=="string"||!e(i)){throw new Error("Bad arguments")}s=+n.get(r)||0;if(!e(s)){throw new Error("Cannot add to a non-numeric value")}return n.set(r,s+i)}}(a);var A=function(e){return function(n,r){return e(this,n,r===undefined?1:+r)}}(L);var O=function(e){var t=/^\.+/;return function(r){return e(r).replace(t,"")}}(p);var M=["o","ms","moz","webkit"];var _=function(e){var t;if(typeof window==="undefined"){t=null}else{(function(e,t,n){var r,i;if(n.requestAnimationFrame){return}for(r=0;r<e.length&&!n.requestAnimationFrame;++r){n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"]}if(!n.requestAnimationFrame){i=n.setTimeout;n.requestAnimationFrame=function(e){var n,r,s;n=Date.now();r=Math.max(0,16-(n-t));s=i(function(){e(n+r)},r);t=n+r;return s}}})(e,0,window);t=window.requestAnimationFrame}return t}(M);var D=function(){var e;if(typeof window!=="undefined"&&window.performance&&typeof window.performance.now==="function"){e=function(){return window.performance.now()}}else{e=function(){return Date.now()}}return e}();var P=function(e,t,n){var r=[];var i={tick:function(){var s,o,u;u=t();n.start();for(s=0;s<r.length;s+=1){o=r[s];if(!o.tick(u)){r.splice(s--,1)}}n.end();if(r.length){e(i.tick)}else{i.running=false}},add:function(t){r.push(t);if(!i.running){i.running=true;e(i.tick)}},abort:function(e,t){var n=r.length,i;while(n--){i=r[n];if(i.root===t&&i.keypath===e){i.stop()}}}};return i}(_,D,b);var H=function(){var e,t={};if(typeof console!=="undefined"&&typeof console.warn==="function"&&typeof console.warn.apply==="function"){e=function(e,n){if(!n){if(t[e]){return}t[e]=true}console.warn(e)}}else{e=function(){}}return e}();var B=function(){function s(e){if(e.trim){return e.trim()}return e.replace(/^\s+/,"").replace(/\s+$/,"")}function o(e){return e.str}var e=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,t=/\/\*.*?\*\//g,n=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g,r=/^@media/,i=/\[data-rvcguid="[a-z0-9-]+"]/g;return function(a,f){var l,c;c=function(e){var t,r,i,s,u,a,l,c,h=[];t=[];while(r=n.exec(e)){t.push({str:r[0],base:r[1],modifiers:r[2]})}s='[data-rvcguid="'+f+'"]';u=t.map(o);c=t.length;while(c--){l=u.slice();i=t[c];l[c]=i.base+s+i.modifiers||"";a=u.slice();a[c]=s+" "+a[c];h.push(l.join(" "),a.join(" "))}return h.join(", ")};if(i.test(a)){l=a.replace(i,'[data-rvcguid="'+f+'"]')}else{l=a.replace(t,"").replace(e,function(e,t){var n,i;if(r.test(t))return e;n=t.split(",").map(s);i=n.map(c).join(", ")+" ";return e.replace(t,i)})}return l}}();var j=function(e){function n(e,t,n){var i=t.constructor._guid,s;if(s=r(n.css,n,i)||r(e.css,e,i)){t.constructor.css=s}}function r(t,n,r){if(!t){return}return n.noCssTransform?t:e(t,r)}var t={name:"css",extend:n,init:function(){}};return t}(B);var F=function(){function e(e,t){return typeof t==="function"&&/_super/.test(e)}return function(t,n,r){if(r||e(t,n)){return function(){var e="_super"in this,r=this._super,i;this._super=n;i=t.apply(this,arguments);if(e){this._super=r}return i}}else{return t}}}();var I=function(e){function n(e,t,n){var r=n.data||{},i=o(e.prototype.data);return u(i,r)}function r(e,t,r){t.data=n(e,t,r)}function i(e,t,r){var i=r.data,s=n(e,t,r);if(typeof s==="function"){s=s.call(t,i)||i}return t.data=s||{}}function s(e){var t=this.init(e.constructor,e,e);if(t){e.data=t;return true}}function o(e){if(typeof e!=="function"||!Object.keys(e).length){return e}var t={};a(e,t);return u(e,t)}function u(e,t){if(typeof t==="function"){return c(t,e)}else if(typeof e==="function"){return l(t,e)}else{return f(t,e)}}function a(e,t,n){for(var r in e){if(n&&r in t){continue}t[r]=e[r]}}function f(e,t){e=e||{};if(!t){return e}a(t,e,true);return e}function l(e,t){return function(n){var r;if(e){r=[];for(var i in e){if(!n||!(i in n)){r.push(i)}}}n=t.call(this,n)||n;if(r&&r.length){n=n||{};r.forEach(function(t){n[t]=e[t]})}return n}}function c(t,n){var r;if(typeof n!=="function"){r=function(e){f(e,n)}}else{r=function(t){n=e(n,function(){},true);return n.call(this,t)||t}}return e(t,r)}var t={name:"data",extend:r,init:i,reset:s};return t}(F);var q={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned'};var R={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53};var U=function(){var e;try{Object.create(null);e=Object.create}catch(t){e=function(){var e=function(){};return function(t,n){var r;if(t===null){return{}}e.prototype=t;r=new e;if(n){Object.defineProperties(r,n)}return r}}()}return e}();var z={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"};var W=function(e){var t=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(n){var r;if(r=n.matchPattern(t)){return{t:e.NUMBER_LITERAL,v:r}}return null}}(R);var X=function(e){return function(t){var n=t.remaining();if(n.substr(0,4)==="true"){t.pos+=4;return{t:e.BOOLEAN_LITERAL,v:"true"}}if(n.substr(0,5)==="false"){t.pos+=5;return{t:e.BOOLEAN_LITERAL,v:"false"}}return null}}(R);var V=function(){var e,t,n;e=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/;t=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/;n=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;return function(r){return function(i){var s,o,u,a;s=i.pos;o='"';u=false;while(!u){a=i.matchPattern(e)||i.matchPattern(t)||i.matchString(r);if(a){if(a==='"'){o+='\\"'}else if(a==="\\'"){o+="'"}else{o+=a}}else{a=i.matchPattern(n);if(a){o+="\\u"+("000"+a.charCodeAt(1).toString(16)).slice(-4)}else{u=true}}}o+='"';return JSON.parse(o)}}}();var $=function(e){return e('"')}(V);var J=function(e){return e("'")}(V);var K=function(e,t,n){return function(r){var i,s;i=r.pos;if(r.matchString('"')){s=n(r);if(!r.matchString('"')){r.pos=i;return null}return{t:e.STRING_LITERAL,v:s}}if(r.matchString("'")){s=t(r);if(!r.matchString("'")){r.pos=i;return null}return{t:e.STRING_LITERAL,v:s}}return null}}(R,$,J);var Q={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/};var G=function(e,t,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var s;if(s=e(i)){return r.test(s.v)?s.v:'"'+s.v.replace(/"/g,'\\"')+'"'}if(s=t(i)){return s.v}if(s=i.matchPattern(n.name)){return s}}}(K,W,Q);var Y=function(e,t){return function(n){var r,i,s;r=n.pos;n.allowWhitespace();i=t(n);if(i===null){n.pos=r;return null}n.allowWhitespace();if(!n.matchString(":")){n.pos=r;return null}n.allowWhitespace();s=n.readExpression();if(s===null){n.pos=r;return null}return{t:e.KEY_VALUE_PAIR,k:i,v:s}}}(R,G);var Z=function(e){return function t(n){var r,i,s,o;r=n.pos;s=e(n);if(s===null){return null}i=[s];if(n.matchString(",")){o=t(n);if(!o){n.pos=r;return null}return i.concat(o)}return i}}(Y);var et=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.matchString("{")){n.pos=r;return null}i=t(n);n.allowWhitespace();if(!n.matchString("}")){n.pos=r;return null}return{t:e.OBJECT_LITERAL,m:i}}}(R,Z);var tt=function(e){return function t(n){function u(e){i.push(e)}var r,i,s,o;r=n.pos;n.allowWhitespace();s=n.readExpression();if(s===null){return null}i=[s];n.allowWhitespace();if(n.matchString(",")){o=t(n);if(o===null){n.error(e.expectedExpression)}o.forEach(u)}return i}}(z);var nt=function(e,t){return function(n){var r,i;r=n.pos;n.allowWhitespace();if(!n.matchString("[")){n.pos=r;return null}i=t(n);if(!n.matchString("]")){n.pos=r;return null}return{t:e.ARRAY_LITERAL,m:i}}}(R,tt);var rt=function(e,t,n,r,i){return function(s){var o=e(s)||t(s)||n(s)||r(s)||i(s);return o}}(W,X,K,et,nt);var it=function(e,t){var n,r,i,s,o;n=/^\.[a-zA-Z_$0-9]+/;i=function(e){var t=e.matchPattern(r);if(t){return"."+t}return null};r=/^\[(0|[1-9][0-9]*)\]/;s=/^(?:Array|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/;o=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;return function(r){var u,a,f,l,c,h,p;u=r.pos;if(r.matchString("~/")){a="~/"}else{a="";while(r.matchString("../")){a+="../"}}if(!a){l=r.matchString(".")||""}f=r.matchPattern(/^@(?:index|key)/)||r.matchPattern(t.name)||"";if(o.test(f)){r.pos=u;return null}if(!a&&!l&&s.test(f)){return{t:e.GLOBAL,v:f}}c=(a||l)+f;if(!c){return null}while(h=r.matchPattern(n)||i(r)){c+=h}if(r.matchString("(")){p=c.lastIndexOf(".");if(p!==-1){c=c.substr(0,p);r.pos=u+c.length}else{r.pos-=1}}return{t:e.REFERENCE,n:c.replace(/^this\./,"./").replace(/^this$/,".")}}}(R,Q);var st=function(e,t){return function(n){var r,i;r=n.pos;if(!n.matchString("(")){return null}n.allowWhitespace();i=n.readExpression();if(!i){n.error(t.expectedExpression)}n.allowWhitespace();if(!n.matchString(")")){n.error(t.expectedParen)}return{t:e.BRACKETED,x:i}}}(R,z);var ot=function(e,t,n){return function(r){return e(r)||t(r)||n(r)}}(rt,it,st);var ut=function(e,t,n){return function(i){var s,o,u;s=i.pos;i.allowWhitespace();if(i.matchString(".")){i.allowWhitespace();if(o=i.matchPattern(n.name)){return{t:e.REFINEMENT,n:o}}i.error("Expected a property name")}if(i.matchString("[")){i.allowWhitespace();u=i.readExpression();if(!u){i.error(t.expectedExpression)}i.allowWhitespace();if(!i.matchString("]")){i.error("Expected ']'")}return{t:e.REFINEMENT,x:u}}return null}}(R,z,Q);var at=function(e,t,n,r,i){return function(s){var o,u,a,f;u=t(s);if(!u){return null}while(u){o=s.pos;if(a=r(s)){u={t:e.MEMBER,x:u,r:a}}else if(s.matchString("(")){s.allowWhitespace();f=n(s);s.allowWhitespace();if(!s.matchString(")")){s.error(i.expectedParen)}u={t:e.INVOCATION,x:u};if(f){u.o=f}}else{break}}return u}}(R,ot,tt,ut,z);var ft=function(e,t,n){var r,i;i=function(n,r){return function(i){var s;if(s=r(i)){return s}if(!i.matchString(n)){return null}i.allowWhitespace();s=i.readExpression();if(!s){i.error(t.expectedExpression)}return{s:n,o:s,t:e.PREFIX_OPERATOR}}};(function(){var e,t,s,o,u;o="! ~ + - typeof".split(" ");u=n;for(e=0,t=o.length;e<t;e+=1){s=i(o[e],u);u=s}r=u})();return r}(R,z,at);var lt=function(e,t){var n,r;r=function(t,n){return function(r){var i,s,o;s=n(r);if(!s){return null}while(true){i=r.pos;r.allowWhitespace();if(!r.matchString(t)){r.pos=i;return s}if(t==="in"&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0))){r.pos=i;return s}r.allowWhitespace();o=n(r);if(!o){r.pos=i;return s}s={t:e.INFIX_OPERATOR,s:t,o:[s,o]}}}};(function(){var e,i,s,o,u;o="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" ");u=t;for(e=0,i=o.length;e<i;e+=1){s=r(o[e],u);u=s}n=u})();return n}(R,ft);var ct=function(e,t,n){return function(r){var i,s,o,u;s=t(r);if(!s){return null}i=r.pos;r.allowWhitespace();if(!r.matchString("?")){r.pos=i;return s}r.allowWhitespace();o=r.readExpression();if(!o){r.error(n.expectedExpression)}r.allowWhitespace();if(!r.matchString(":")){r.error('Expected ":"')}r.allowWhitespace();u=r.readExpression();if(!u){r.error(n.expectedExpression)}return{t:e.CONDITIONAL,o:[s,o,u]}}}(R,lt,z);var ht=function(e,t){function n(e){return JSON.stringify(String(e))}function r(n,i){var s,o;if(n.t===e.REFERENCE){if(i.indexOf(n.n)===-1){i.unshift(n.n)}}o=n.o||n.m;if(o){if(t(o)){r(o,i)}else{s=o.length;while(s--){r(o[s],i)}}}if(n.x){r(n.x,i)}if(n.r){r(n.r,i)}if(n.v){r(n.v,i)}}function i(t,r,s){var o=function(e){return i(t,e,s)};switch(r.t){case e.BOOLEAN_LITERAL:case e.GLOBAL:case e.NUMBER_LITERAL:return r.v;case e.STRING_LITERAL:return n(r.v);case e.ARRAY_LITERAL:return"["+(r.m?r.m.map(o).join(","):"")+"]";case e.OBJECT_LITERAL:return"{"+(r.m?r.m.map(o).join(","):"")+"}";case e.KEY_VALUE_PAIR:return r.k+":"+i(t,r.v,s);case e.PREFIX_OPERATOR:return(r.s==="typeof"?"typeof ":r.s)+i(t,r.o,s);case e.INFIX_OPERATOR:return i(t,r.o[0],s)+(r.s.substr(0,2)==="in"?" "+r.s+" ":r.s)+i(t,r.o[1],s);case e.INVOCATION:return i(t,r.x,s)+"("+(r.o?r.o.map(o).join(","):"")+")";case e.BRACKETED:return"("+i(t,r.x,s)+")";case e.MEMBER:return i(t,r.x,s)+i(t,r.r,s);case e.REFINEMENT:return r.n?"."+r.n:"["+i(t,r.x,s)+"]";case e.CONDITIONAL:return i(t,r.o[0],s)+"?"+i(t,r.o[1],s)+":"+i(t,r.o[2],s);case e.REFERENCE:return"${"+s.indexOf(r.n)+"}";default:t.error("Expected legal JavaScript")}}return function(e){var t=[],n;r(e,t);n={r:t,s:i(this,e,t)};return n}}(R,u);var pt=function(e,t,n,r,i){var s,o,u=/^\s+/;o=function(e){this.name="ParseError";this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}};o.prototype=Error.prototype;s=function(e,t){var n,r;this.str=e;this.options=t||{};this.pos=0;if(this.init)this.init(e,t);n=[];while(this.pos<this.str.length&&(r=this.read())){n.push(r)}this.leftover=this.remaining();this.result=this.postProcess?this.postProcess(n,t):n};s.prototype={read:function(e){var t,n,r,i;if(!e)e=this.converters;t=this.pos;r=e.length;for(n=0;n<r;n+=1){this.pos=t;if(i=e[n](this)){return i}}return null},readExpression:function(){return r(this)},flattenExpression:i,getLinePos:function(){var e,t,n,r,i,s;e=this.str.split("\n");i=-1;r=0;do{n=r;i++;t=e[i];r+=t.length+1}while(r<=this.pos);s=this.pos-n;return{line:i+1,ch:s+1,text:t,toJSON:function(){return[this.line,this.ch]},toString:function(){return"line "+this.line+" character "+this.ch+":\n"+this.text+"\n"+this.text.substr(0,this.ch-1).replace(/[\S]/g," ")+"^----"}}},error:function(e){var t,n;t=this.getLinePos();n=e+" at "+t;throw new o(n)},matchString:function(e){if(this.str.substr(this.pos,e.length)===e){this.pos+=e.length;return e}},matchPattern:function(e){var t;if(t=e.exec(this.remaining())){this.pos+=t[0].length;return t[1]||t[0]}},allowWhitespace:function(){this.matchPattern(u)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}};s.extend=function(e){var r=this,i,o;i=function(e,t){s.call(this,e,t)};i.prototype=t(r.prototype);for(o in e){if(n.call(e,o)){i.prototype[o]=e[o]}}i.extend=s.extend;return i};e.Parser=s;return s}(i,U,s,ct,ht);var dt=function(){var e=/^[^\s=]+/,t=/^\s+/;return function(n){var r,i,s;if(!n.matchString("=")){return null}r=n.pos;n.allowWhitespace();i=n.matchPattern(e);if(!i){n.pos=r;return null}if(!n.matchPattern(t)){return null}s=n.matchPattern(e);if(!s){n.pos=r;return null}n.allowWhitespace();if(!n.matchString("=")){n.pos=r;return null}return[i,s]}}();var vt=[{delimiters:"delimiters",isTriple:false,isStatic:false},{delimiters:"tripleDelimiters",isTriple:true,isStatic:false},{delimiters:"staticDelimiters",isTriple:false,isStatic:true},{delimiters:"staticTripleDelimiters",isTriple:true,isStatic:true}];var mt=function(e){var t={"#":e.SECTION,"^":e.INVERTED,"/":e.CLOSING,">":e.PARTIAL,"!":e.COMMENT,"&":e.TRIPLE};return function(e){var n=t[e.str.charAt(e.pos)];if(!n){return null}e.pos+=1;return n}}(R);var gt=function(e){return{"if":e.SECTION_IF,unless:e.SECTION_UNLESS,"with":e.SECTION_WITH,each:e.SECTION_EACH}}(R);var yt=null;var bt=function(e,t,n){function u(t,n){var r=[],i;while(n.t===e.MEMBER&&n.r.t===e.REFINEMENT){i=n.r;if(i.x){if(i.x.t===e.REFERENCE){r.unshift(i.x)}else{r.unshift(t.flattenExpression(i.x))}}else{r.unshift(i.n)}n=n.x}if(n.t!==e.REFERENCE){return null}return{r:n.n,m:r}}var r=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,i=/^[0-9][1-9]*$/,s=new RegExp("^("+Object.keys(n).join("|")+")\\b"),o;o=/^[a-zA-Z$_0-9]+(?:(\.[a-zA-Z$_0-9]+)|(\[[a-zA-Z$_0-9]+\]))*$/;return function(n,a){var f,l,c,h,p,d,v,m,g,y,b;f=n.pos;c={};y=n[a.delimiters];if(a.isStatic){c.s=true}if(a.isTriple){c.t=e.TRIPLE}else{if(n.remaining()[0]==="!"&&(d=n.readExpression())){c.t=e.INTERPOLATOR;n.allowWhitespace();if(n.matchString(y[1])){n.pos-=y[1].length}else{n.pos=f;d=null}}if(!d){h=t(n);c.t=h||e.INTERPOLATOR;if(h===e.SECTION){if(p=n.matchPattern(s)){c.n=p}n.allowWhitespace()}else if(h===e.COMMENT||h===e.CLOSING){m=n.remaining();g=m.indexOf(y[1]);if(g!==-1){c.r=m.substr(0,g);n.pos+=g;return c}}}}if(!d){n.allowWhitespace();d=n.readExpression();m=n.remaining();if(m.substr(0,y[1].length)!==y[1]&&m.charAt(0)!==":"){l=n.pos;n.pos=f;m=n.remaining();g=m.indexOf(y[1]);if(g!==-1){c.r=m.substr(0,g).trim();if(!o.test(c.r)){n.error("Expected a legal Mustache reference")}n.pos+=g;return c}n.pos=l}}if(d){while(d.t===e.BRACKETED&&d.x){d=d.x}if(d.t===e.REFERENCE){c.r=d.n}else{if(d.t===e.NUMBER_LITERAL&&i.test(d.v)){c.r=d.v}else if(b=u(n,d)){c.rx=b}else{c.x=n.flattenExpression(d)}}}if(v=n.matchPattern(r)){c.i=v}return c}}(R,mt,gt,yt);var wt=function(e,t,n,r,i){function u(e){var t;t=n.slice().sort(function(n,r){return e[r.delimiters][0].length-e[n.delimiters][0].length});return function r(n){if(!n){return null}else{return a(e,n)||r(t.shift())}}(t.shift())}function a(n,o){var u,a,l,c,p,d,v,m,g,y;u=n.pos;a=n.getLinePos();c=n[o.delimiters];if(!n.matchString(c[0])){return null}if(l=t(n)){if(!n.matchString(c[1])){return null}n[o.delimiters]=l;return s}n.allowWhitespace();l=r(n,o);if(l===null){n.pos=u;return null}n.allowWhitespace();if(!n.matchString(c[1])){n.error("Expected closing delimiter '"+c[1]+"' after reference")}if(l.t===e.COMMENT){l.exclude=true}if(l.t===e.CLOSING){n.sectionDepth-=1;if(n.sectionDepth<0){n.pos=u;n.error("Attempted to close a section that wasn't open")}}if(h(l)){n.sectionDepth+=1;p=[];m=p;d=l.n;while(g=n.read()){if(g.t===e.CLOSING){if(d&&g.r!==d){n.error("Expected {{/"+d+"}}")}break}if(g.t===e.INTERPOLATOR&&g.r==="else"){switch(l.n){case"unless":n.error("{{else}} not allowed in {{#unless}}");break;case"with":n.error("{{else}} not allowed in {{#with}}");break;default:m=v=[];continue}}m.push(g)}if(p.length){l.f=p;if(!l.i&&l.n==="each"&&(y=f(l.f))){l.i=y}}if(v&&v.length){l.l=v}}if(n.includeLinePositions){l.p=a.toJSON()}if(l.n){l.n=i[l.n]}else if(l.t===e.INVERTED){l.t=e.SECTION;l.n=e.SECTION_UNLESS}return l}function f(t){var n,r,i;n=t.length;while(n--){r=t[n];if(r.t===e.ELEMENT&&r.f&&(i=f(r.f))){return i}if(r.t===e.INTERPOLATOR||r.t===e.TRIPLE||r.t===e.SECTION){if(r.r&&o.test(r.r)){return r.r}if(r.x&&(i=l(r.x))){return i}if(r.rx&&(i=c(r.rx))){return i}}}}function l(e){var t;t=e.r.length;while(t--){if(o.test(e.r[t])){return e.r[t]}}}function c(t){var n,r,i;n=t.m.length;while(n--){i=t.m[n];if(i.r&&(r=l(i))){return r}if(i.t===e.REFERENCE&&o.test(i.n)){return i.n}}}function h(t){return t.t===e.SECTION||t.t===e.INVERTED}var s={t:e.DELIMCHANGE,exclude:true},o=/^@(?:index|key)$/;return u}(R,dt,vt,bt,gt);var Et=function(e){var t="<!--",n="-->";return function(r){var i,s,o,u,a;i=r.getLinePos();if(!r.matchString(t)){return null}o=r.remaining();u=o.indexOf(n);if(u===-1){r.error("Illegal HTML - expected closing comment sequence ('-->')")}s=o.substr(0,u);r.pos+=u+3;a={t:e.COMMENT,c:s};if(r.includeLinePositions){a.p=i.toJSON()}return a}}(R);var St=function(){var e=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return e}();var xt=function(e,t){var n,r,i;n=t.length;while(n--){r=e.indexOf(t[n]);if(!r){return 0}if(r===-1){continue}if(!i||r<i){i=r}}return i||-1};var Tt=function(){function s(e){if(!e){return 65533}if(e===10){return 32}if(e<128){return e}if(e<=159){return t[e-128]}if(e<55296){return e}if(e<=57343){return 65533}if(e<=65535){return e}return 65533}var e,t,n,r,i;e={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};t=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376];n=new RegExp("&("+Object.keys(e).join("|")+");?","g");r=/&#x([0-9]+);?/g;i=/&#([0-9]+);?/g;return function(o){var u;u=o.replace(n,function(t,n){if(e[n]){return String.fromCharCode(e[n])}return t});u=u.replace(r,function(e,t){return String.fromCharCode(s(parseInt(t,16)))});u=u.replace(i,function(e,t){return String.fromCharCode(s(t))});return u}}(yt);var Nt=function(e,t){return function(n){var r,i,s,o;i=n.remaining();o=n.inside?"</"+n.inside:"<";if(n.inside&&!n.interpolate[n.inside]){r=i.indexOf(o)}else{s=[o,n.delimiters[0],n.tripleDelimiters[0],n.staticDelimiters[0],n.staticTripleDelimiters[0]];if(n.inAttribute===true){s.push('"',"'","=",">","`")}else if(n.inAttribute){s.push(n.inAttribute)}r=e(i,s)}if(!r){return null}if(r===-1){r=i.length}n.pos+=r;return t(i.substr(0,r))}}(xt,Tt);var Ct=function(e){var t=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;return function(n){var r;if(!n.matchString("</")){return null}if(r=n.matchPattern(t)){return{t:e.CLOSING_TAG,e:r}}n.pos-=2;n.error("Illegal closing tag")}}(R);var kt=function(e,t){function i(e){var t,r,i;e.allowWhitespace();r=e.matchPattern(n);if(!r){return null}t={name:r};i=s(e);if(i){t.value=i}return t}function s(e){var t,n,r,i;t=e.pos;e.allowWhitespace();if(!e.matchString("=")){e.pos=t;return null}e.allowWhitespace();n=e.pos;r=e.sectionDepth;i=a(e,"'")||a(e,'"')||u(e);if(e.sectionDepth!==r){e.pos=n;e.error("An attribute value must contain as many opening section tags as closing section tags")}if(i===null){e.pos=t;return null}if(i.length===1&&typeof i[0]==="string"){return i[0]}return i}function o(e){var t,n,i;t=e.pos;n=e.matchPattern(r);if(!n){return null}if((i=n.indexOf(e.delimiters[0]))!==-1){n=n.substr(0,i);e.pos=t+n.length}return n}function u(e){var n,r;e.inAttribute=true;n=[];r=t(e)||o(e);while(r!==null){n.push(r);r=t(e)||o(e)}if(!n.length){return null}e.inAttribute=false;return n}function a(e,n){var r,i,s;r=e.pos;if(!e.matchString(n)){return null}e.inAttribute=n;i=[];s=t(e)||f(e,n);while(s!==null){i.push(s);s=t(e)||f(e,n)}if(!e.matchString(n)){e.pos=r;return null}e.inAttribute=false;return i}function f(t,n){var r,i,s;r=t.pos;s=t.remaining();i=e(s,[n,t.delimiters[0],t.delimiters[1]]);if(i===-1){t.error("Quoted attribute value must have a closing quote")}if(!i){return null}t.pos+=i;return s.substr(0,i)}var n=/^[^\s"'>\/=]+/,r=/^[^\s"'=<>`]+/;return i}(xt,wt);var Lt=function(e,t,n){function l(e){var t,r,i;e.allowWhitespace();t=n(e);if(!t){return null}i={key:t};e.allowWhitespace();if(!e.matchString(":")){return null}e.allowWhitespace();r=e.read();if(!r){return null}i.value=r.v;return i}var r,i,s,o,u,a,f;i={"true":true,"false":false,"undefined":undefined,"null":null};s=new RegExp("^(?:"+Object.keys(i).join("|")+")");o=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;u=/\$\{([^\}]+)\}/g;a=/^\$\{([^\}]+)\}/;f=/^\s*$/;r=e.extend({init:function(e,t){this.values=t.values},postProcess:function(e){if(e.length!==1||!f.test(this.leftover)){return null}return{value:e[0].v}},converters:[function(t){var n;if(!t.values){return null}n=t.matchPattern(a);if(n&&t.values.hasOwnProperty(n)){return{v:t.values[n]}}},function(t){var n;if(n=t.matchPattern(s)){return{v:i[n]}}},function(t){var n;if(n=t.matchPattern(o)){return{v:+n}}},function(n){var r=t(n),i;if(r&&(i=n.values)){return{v:r.v.replace(u,function(e,t){return t in i?i[t]:t})}}return r},function(t){var n,r;if(!t.matchString("{")){return null}n={};t.allowWhitespace();if(t.matchString("}")){return{v:n}}while(r=l(t)){n[r.key]=r.value;t.allowWhitespace();if(t.matchString("}")){return{v:n}}if(!t.matchString(",")){return null}}return null},function(t){var n,r;if(!t.matchString("[")){return null}n=[];t.allowWhitespace();if(t.matchString("]")){return{v:n}}while(r=t.read()){n.push(r.v);t.allowWhitespace();if(t.matchString("]")){return{v:n}}if(!t.matchString(",")){return null}t.allowWhitespace()}return null}]});return function(e,t){var n=new r(e,{values:t});return n.result}}(pt,K,G);var At=function(e){return function(t){var n,r,i,s,o,u;if(typeof t==="string"){if(t.indexOf(":")===-1){return t.trim()}t=[t]}n={};s=[];o=[];while(t.length){r=t.shift();if(typeof r==="string"){i=r.indexOf(":");if(i===-1){s.push(r)}else{if(i){s.push(r.substr(0,i))}if(r.length>i+1){o[0]=r.substring(i+1)}break}}else{s.push(r)}}o=o.concat(t);if(o.length||typeof s!=="string"){n={n:s.length===1&&typeof s[0]==="string"?s[0]:s};if(o.length===1&&typeof o[0]==="string"){u=e("["+o[0]+"]");n.a=u?u.value:o[0].trim()}else{n.d=o}}else{n=s}return n}}(Lt);var Ot=function(e,t,n,r,i,s,o,u){function m(n){var r,i,s,m,g,y,b,w,E,S,x,T;r=n.pos;i=n.getLinePos();if(n.inside){return null}if(!n.matchString("<")){return null}if(n.nextChar()==="/"){return null}s={t:e.ELEMENT};if(n.includeLinePositions){s.p=i.toJSON()}if(n.matchString("!")){s.y=1}s.e=n.matchPattern(a);if(!s.e){return null}if(!f.test(n.nextChar())){n.error("Illegal tag name")}b=function(e,t){var r=t.n||t;if(h.test(r)){n.pos-=r.length;n.error("Cannot use reserved event names (change, reset, teardown, update)")}s.v[e]=t};while(w=o(n)){if(g=p[w.name]){s[g]=u(w.value)}else if(y=c.exec(w.name)){if(!s.v)s.v={};E=u(w.value);b(y[1],E)}else{if(!n.sanitizeEventAttributes||!l.test(w.name)){if(!s.a)s.a={};s.a[w.name]=w.value||0}}}n.allowWhitespace();if(n.matchString("/")){S=true}if(!n.matchString(">")){return null}m=s.e.toLowerCase();if(!S&&!t.test(s.e)){if(m==="script"||m==="style"){n.inside=m}x=[];while(T=n.read(v)){if(T.t===e.CLOSING){break}if(T.t===e.CLOSING_TAG){break}x.push(T)}if(x.length){s.f=x}}n.inside=null;if(n.sanitizeElements&&n.sanitizeElements.indexOf(m)!==-1){return d}return s}var a=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,f=/^[\s\n\/>]/,l=/^on/,c=/^on-([a-zA-Z$_][a-zA-Z$_0-9\-]+)$/,h=/^(?:change|reset|teardown|update)$/,p={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},d={exclude:true},v;v=[n,r,m,i,s];return m}(R,St,wt,Et,Nt,Ct,kt,At);var Mt=function(){var e=/^[ \t\f\r\n]+/,t=/[ \t\f\r\n]+$/;return function(n,r,i){var s;if(r){s=n[0];if(typeof s==="string"){s=s.replace(e,"");if(!s){n.shift()}else{n[0]=s}}}if(i){s=n[n.length-1];if(typeof s==="string"){s=s.replace(t,"");if(!s){n.pop()}else{n[n.length-1]=s}}}}}();var _t=function(e){function r(e){return typeof e==="string"}function i(t){return t.t===e.COMMENT||t.t===e.DELIMCHANGE}function s(t){return(t.t===e.SECTION||t.t===e.INVERTED)&&t.f}var t=/^\s*\r?\n/,n=/\r?\n\s*$/;return function(e){var o,u,a,f,l;for(o=1;o<e.length;o+=1){u=e[o];a=e[o-1];f=e[o-2];if(r(u)&&i(a)&&r(f)){if(n.test(f)&&t.test(u)){e[o-2]=f.replace(n,"\n");e[o]=u.replace(t,"")}}if(s(u)&&r(a)){if(n.test(a)&&r(u.f[0])&&t.test(u.f[0])){e[o-1]=a.replace(n,"\n");u.f[0]=u.f[0].replace(t,"")}}if(r(u)&&s(a)){l=a.f[a.f.length-1];if(r(l)&&n.test(l)&&t.test(u)){a.f[a.f.length-1]=l.replace(n,"\n");e[o]=u.replace(t,"")}}}return e}}(R);var Dt=function(e,t,n,r,i,s,o,u){function m(t,n,r,i,s,a){var f,c,h,g,y,b,w,E,S;u(t);f=t.length;while(f--){c=t[f];if(c.exclude){t.splice(f,1)}else if(n&&c.t===e.COMMENT){t.splice(f,1)}}o(t,i,s);f=t.length;while(f--){c=t[f];if(c.f){y=r||c.t===e.ELEMENT&&p.test(c.e);if(!y){h=t[f-1];g=t[f+1];if(!h||typeof h==="string"&&v.test(h)){b=true}if(!g||typeof g==="string"&&d.test(g)){w=true}}m(c.f,n,y,b,w,a);if(c.l){m(c.l,n,r,b,w,a);if(a){E={t:4,n:e.SECTION_UNLESS,f:c.l};if(c.r){E.r=c.r}if(c.x){E.x=c.x}if(c.rx){E.rx=c.rx}t.splice(f+1,0,E);delete c.l}}}if(c.a){for(S in c.a){if(c.a.hasOwnProperty(S)&&typeof c.a[S]!=="string"){m(c.a[S],n,r,a)}}}}f=t.length;while(f--){if(typeof t[f]==="string"){if(typeof t[f+1]==="string"){t[f]=t[f]+t[f+1];t.splice(f+1,1)}if(!r){t[f]=t[f].replace(l," ")}if(t[f]===""){t.splice(f,1)}}}}var a,f,l=/[ \t\f\r\n]+/g,c=/<!--\s*\{\{\s*>\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,h=/<!--\s*\{\{\s*\/\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*}\}\s*-->/,p=/^(?:pre|script|style|textarea)$/i,d=/^\s+/,v=/\s+$/;a=t.extend({init:function(e,t){this.delimiters=t.delimiters||["{{","}}"];this.tripleDelimiters=t.tripleDelimiters||["{{{","}}}"];this.staticDelimiters=t.staticDelimiters||["[[","]]"];this.staticTripleDelimiters=t.staticTripleDelimiters||["[[[","]]]"];this.sectionDepth=0;this.interpolate={script:!t.interpolate||t.interpolate.script!==false,style:!t.interpolate||t.interpolate.style!==false};if(t.sanitize===true){t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:true}}this.sanitizeElements=t.sanitize&&t.sanitize.elements;this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes;this.includeLinePositions=t.includeLinePositions},postProcess:function(e,t){if(this.sectionDepth>0){this.error("A section was left open")}m(e,t.stripComments!==false,t.preserveWhitespace,!t.preserveWhitespace,!t.preserveWhitespace,t.rewriteElse!==false);return e},converters:[n,r,i,s]});f=function(e){var t=arguments[1];if(t===void 0)t={};var n,r,i,s,o,u;n={v:1};if(c.test(e)){r=e;e="";while(o=c.exec(r)){s=o[1];e+=r.substr(0,o.index);r=r.substring(o.index+o[0].length);u=h.exec(r);if(!u||u[1]!==s){throw new Error("Inline partials must have a closing delimiter, and cannot be nested")}(i||(i={}))[s]=(new a(r.substr(0,u.index),t)).result;r=r.substring(u.index+u[0].length)}n.p=i}n.t=(new a(e,t)).result;return n};return f}(R,pt,wt,Et,Ot,Nt,Mt,_t);var Pt=function(){return function(t,n){var r=t.map(n);t.forEach(function(e,t){r[e]=r[t]});return r}}(yt);var Ht=function(e){var t,n;t=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters"];n=e(t,function(e){return e});return n}(Pt);var Bt=function(e,t,n,r,i){function o(e){var t=r(s);t.parse=function(t,n){return u(t,n||e)};return t}function u(t,r){if(!n){throw new Error(e.missingParser)}return n(t,r||this.options)}function a(e,n){var r;if(!t){if(n&&n.noThrow){return}throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}if(f(e)){e=e.substring(1)}if(!(r=document.getElementById(e))){if(n&&n.noThrow){return}throw new Error("Could not find template element with id #"+e)}return r.innerHTML}function f(e){return e.charAt(0)==="#"}function l(e){return!(typeof e==="string")}function c(e){if(e.defaults){e=e.defaults}return i.reduce(function(t,n){t[n]=e[n];return t},{})}var s={parse:u,fromId:a,isHashedId:f,isParsed:l,getParseOptions:c,createHelper:o};return s}(q,N,Dt,U,Ht);var jt=function(e,t){function r(e){var t=e._config.template,n;if(!t||!t.fn){return}n=i(e,t.fn);if(n!==t.result){t.result=n;n=s(n,e);return n}}function i(t,n){var r=e.createHelper(e.getParseOptions(t));return n.call(t,t.data,r)}function s(n,r){if(typeof n==="string"){if(n[0]==="#"){n=e.fromId(n)}n=t(n,e.getParseOptions(r))}else if(n.v!==1){throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return n}function o(e,t,n){if(!t)return;for(var r in t){if(n||!e.hasOwnProperty(r)){e[r]=t[r]}}}var n={name:"template",extend:function(t,n,r){var i;if("template"in r){i=r.template;if(typeof i==="function"){n.template=i}else{n.template=s(i,n)}}},init:function(t,n,r){var u,a;u="template"in r?r.template:t.prototype.template;if(typeof u==="function"){a=u;u=i(n,a);n._config.template={fn:a,result:u}}u=s(u,n);n.template=u.t;if(u.p){o(n.partials,u.p)}},reset:function(e){var t=r(e),n;if(t){n=s(t,e);e.template=n.t;o(e.partials,n.p,true);return true}}};return n}(Bt,Dt);var Ft=function(e){function t(e,t){this.name=e;this.useDefaults=t}function n(e,t){var r,i;if(r=t(e)){return r}if(!e.isolated&&(i=e._parent)){return n(i,t)}}t.prototype={constructor:t,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,t,n)},configure:function(t,n,r){var i=this.name,s=r[i],o;o=e(t[i]);for(var u in s){o[u]=s[u]}n[i]=o},reset:function(e){var t=e[this.name];var n=false;Object.keys(t).forEach(function(e){var r=t[e];if(r._fn){if(r._fn.isOwner){t[e]=r._fn}else{delete t[e]}n=true}});return n},findOwner:function(e,t){return e[this.name].hasOwnProperty(t)?e:this.findConstructor(e.constructor,t)},findConstructor:function(e,t){if(!e){return}return e[this.name].hasOwnProperty(t)?e:this.findConstructor(e._parent,t)},find:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]})},findInstance:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]?e:void 0})}};return t}(U,yt);var It=function(e,t){var n=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],r=e(n,function(e){return new t(e,e==="computed")});return r}(Pt,Ft);var qt=function(){};var Rt=function(e){function t(t,n){var r;if(n in t){var i=t[n];if(typeof i==="function"){r=i}else{r=function(){return i}}}else{r=e}return r}return function(n,r,i){if(!/_super/.test(i)){return i}var s=function(){var n=t(s._parent,r),o="_super"in this,u=this._super,a;this._super=n;a=i.apply(this,arguments);if(o){this._super=u}else{delete this._super}return a};s._parent=n;s._method=i;return s}}(qt);var Ut=function(e,t){function n(t,n,i){if(n in t){if(!(i in t)){e(r(n,i));t[i]=t[n]}else{throw new Error(r(n,i,true))}}}function r(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function i(e){n(e,"eventDefinitions","events")}function s(e){if(t(e.adaptors)){n(e,"adaptors","adapt")}}return function(t){i(t);s(t)}}(H,o);var zt=function(e,t,n,r,i,s,o,u){function h(e,t,n,r,i){a[t][e](n,r,i)}function p(e,t,r,i){u(i);h(e,"data",t,r,i);l.parseOptions.forEach(function(e){if(e in i){r[e]=i[e]}});for(var s in i){if(s in n&&!(s in l.parseOptions)&&!(s in a)){var f=i[s];r[s]=typeof f==="function"?o(t.prototype,s,f):f}}l.registries.forEach(function(n){n[e](t,r,i)});h(e,"template",t,r,i);h(e,"css",t,r,i)}var a,f,l;a={data:t,template:r,css:e};f=Object.keys(n).filter(function(e){return!s[e]&&!a[e]&&!i[e]});l=[].concat(a.data,i,f,s,a.template,a.css);for(var c in a){l[c]=a[c]}l.keys=Object.keys(n).concat(s.map(function(e){return e.name})).concat(["css"]);l.parseOptions=i;l.registries=s;l.extend=function(e,t,n){p("extend",e,t,n)};l.init=function(e,t,n){p("init",e,t,n);if(t._config){t._config.options=n}};l.reset=function(e){return l.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})};return l}(j,I,n,jt,Ht,It,Rt,Ut);var Wt=function(e,t,n,r){function s(e){return function(){return e}}var i=function(e,i,o,u){if(e===i){return s(i)}if(u){var a=r.registries.interpolators.find(o,u);if(a){return a(e,i)||s(i)}t('Missing "'+u+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(e,i)||n.array(e,i)||n.object(e,i)||n.cssLength(e,i)||s(i)};e.interpolate=i;return i}(i,H,f,zt);var Xt=function(e,t,n){var r=function(e){var t;this.startTime=Date.now();for(t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}this.interpolator=n(this.from,this.to,this.root,this.interpolator);this.running=true};r.prototype={tick:function(){var n,r,i,s,o,u;u=this.keypath;if(this.running){s=Date.now();n=s-this.startTime;if(n>=this.duration){if(u!==null){t.start(this.root);this.root.viewmodel.set(u,this.to);t.end()}if(this.step){this.step(1,this.to)}this.complete(this.to);o=this.root._animations.indexOf(this);if(o===-1){e("Animation was not found")}this.root._animations.splice(o,1);this.running=false;return false}r=this.easing?this.easing(n/this.duration):n/this.duration;if(u!==null){i=this.interpolator(r);t.start(this.root);this.root.viewmodel.set(u,i);t.end()}if(this.step){this.step(r,i)}return true}return false},stop:function(){var t;this.running=false;t=this.root._animations.indexOf(this);if(t===-1){e("Animation was not found")}this.root._animations.splice(t,1)}};return r}(H,b,Wt);var Vt=function(e,t,n,r,i){function u(t,s,u,a){var f,l,c,h;if(s){s=n(s)}if(s!==null){h=t.viewmodel.get(s)}r.abort(s,t);if(e(h,u)){if(a.complete){a.complete(a.to)}return o}if(a.easing){if(typeof a.easing==="function"){f=a.easing}else{f=t.easing[a.easing]}if(typeof f!=="function"){f=null}}l=a.duration===undefined?400:a.duration;c=new i({keypath:s,from:h,to:u,root:t,duration:l,easing:f,interpolator:a.interpolator,step:a.step,complete:a.complete});r.add(c);t._animations.push(c);return c}var s=function(){},o={stop:s};return function(n,r,i){var o,a,f,l,c,h,p,d,v,m,g,y,b,w;o=new t(function(e){a=e});if(typeof n==="object"){i=r||{};h=i.easing;p=i.duration;c=[];d=i.step;v=i.complete;if(d||v){g={};i.step=null;i.complete=null;m=function(e){return function(t,n){g[e]=n}}}for(f in n){if(n.hasOwnProperty(f)){if(d||v){y=m(f);i={easing:h,duration:p};if(d){i.step=y}}i.complete=v?y:s;c.push(u(this,f,n[f],i))}}if(d||v){w={easing:h,duration:p};if(d){w.step=function(e){d(e,g)}}if(v){o.then(function(e){v(e,g)})}w.complete=a;b=u(this,null,null,w);c.push(b)}return{stop:function(){var e;while(e=c.pop()){e.stop()}if(b){b.stop()}}}}i=i||{};if(i.complete){o.then(i.complete)}i.complete=a;l=u(this,n,r,i);o.stop=function(){l.stop()};return o}}(v,h,O,P,Xt);var $t=function(e){return function(){if(this.el){e(this.el.__ractive_instances__,this)}return this.fragment.detach()}}(c);var Jt=function(t){if(!this.el){return null}return this.fragment.find(t)};var Kt=function(e,t,n){var r,i,s,o,u,a,f,l;if(!e){r=null}else{i=n("div");s=["matches","matchesSelector"];l=function(e){return function(t,n){return t[e](n)}};a=s.length;while(a--&&!r){o=s[a];if(i[o]){r=l(o)}else{f=t.length;while(f--){u=t[a]+o.substr(0,1).toUpperCase()+o.substring(1);if(i[u]){r=l(u);break}}}}if(!r){r=function(e,t){var n,r,s;r=e.parentNode;if(!r){i.innerHTML="";r=i;e=e.cloneNode();i.appendChild(e)}n=r.querySelectorAll(t);s=n.length;while(s--){if(n[s]===e){return true}}return false}}}return r}(N,M,T);var Qt=function(e){return function(t,n){var r=this._isComponentQuery?!this.selector||t.name===this.selector:e(t.node,this.selector);if(r){this.push(t.node||t.instance);if(!n){this._makeDirty()}return true}}}(Kt);var Gt=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"];t=this.selector;n=e.indexOf(t);if(n!==-1){e.splice(n,1);e[t]=null}};var Yt=function(){function e(e){var t;if(t=e.parentFragment){return t.owner}if(e.component&&(t=e.component.parentFragment)){return t.owner}}function t(t){var n,r;n=[t];r=e(t);while(r){n.push(r);r=e(r)}return n}return function(e,n){var r,i,s,o,u,a,f,l,c,h;r=t(e.component||e._ractive.proxy);i=t(n.component||n._ractive.proxy);s=r[r.length-1];o=i[i.length-1];while(s&&s===o){r.pop();i.pop();u=s;s=r[r.length-1];o=i[i.length-1]}s=s.component||s;o=o.component||o;c=s.parentFragment;h=o.parentFragment;if(c===h){a=c.items.indexOf(s);f=h.items.indexOf(o);return a-f||r.length-i.length}if(l=u.fragments){a=l.indexOf(c);f=l.indexOf(h);return a-f||r.length-i.length}throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}();var Zt=function(e){return function(t,n){var r;if(t.compareDocumentPosition){r=t.compareDocumentPosition(n);return r&2?1:-1}return e(t,n)}}(Yt);var en=function(e,t){return function(){this.sort(this._isComponentQuery?t:e);this._dirty=false}}(Zt,Yt);var tn=function(e){return function(){var t=this;if(!this._dirty){this._dirty=true;e.scheduleTask(function(){t._sort()})}}}(b);var nn=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);if(t!==-1){this.splice(t,1)}};var rn=function(e,t,n,r,i,s){return function(u,a,f,l){var c=[];e(c,{selector:{value:a},live:{value:f},_isComponentQuery:{value:l},_test:{value:t}});if(!f){return c}e(c,{cancel:{value:n},_root:{value:u},_sort:{value:r},_makeDirty:{value:i},_remove:{value:s},_dirty:{value:false,writable:true}});return c}}(k,Qt,Gt,en,tn,nn);var sn=function(e){return function(n,r){var i,s;if(!this.el){return[]}r=r||{};i=this._liveQueries;if(s=i[n]){return r&&r.live?s:s.slice()}s=e(this,n,!!r.live,false);if(s.live){i.push(n);i["_"+n]=s}this.fragment.findAll(n,s);return s}}(rn);var on=function(e){return function(n,r){var i,s;r=r||{};i=this._liveComponentQueries;if(s=i[n]){return r&&r.live?s:s.slice()}s=e(this,n,!!r.live,true);if(s.live){i.push(n);i["_"+n]=s}this.fragment.findAllComponents(n,s);return s}}(rn);var un=function(t){return this.fragment.findComponent(t)};var an=function(t){var n,r,i,s=this._subs[t];if(!s){return}n=Array.prototype.slice.call(arguments,1);for(r=0,i=s.length;r<i;r+=1){s[r].apply(this,n)}};var fn=function(e){var t={capture:true};return function(r){r=e(r);return this.viewmodel.get(r,t)}}(O);var ln=function(t){var n;if(!t||typeof t==="boolean"){return}if(typeof window==="undefined"||!document||!t){return null}if(t.nodeType){return t}if(typeof t==="string"){n=document.getElementById(t);if(!n&&document.querySelector){n=document.querySelector(t)}if(n&&n.nodeType){return n}}if(t[0]&&t[0].nodeType){return t[0]}return null};var cn=function(e){return function(n,r){if(!this.rendered){throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.")}n=e(n);r=e(r)||null;if(!n){throw new Error("You must specify a valid target to insert into")}n.insertBefore(this.detach(),r);this.el=n;(n.__ractive_instances__||(n.__ractive_instances__=[])).push(this)}}(ln);var hn=function(e,t,n){return function(i,s,o){var u,a;i=n(i);u=this.viewmodel.get(i);if(!t(u)||!t(s)){return this.set(i,s,o&&o.complete)}a=e.start(this,true);this.viewmodel.merge(i,u,s,o);e.end();if(o&&o.complete){a.then(o.complete)}return a}}(b,o,O);var pn=function(e,t){var n=function(e,t,n,r){this.root=e;this.keypath=t;this.callback=n;this.defer=r.defer;this.priority=0;this.context=r&&r.context?r.context:e};n.prototype={init:function(e){this.value=this.root.viewmodel.get(this.keypath);if(e!==false){this.update()}},setValue:function(n){var r=this;if(!t(n,this.value)){this.value=n;if(this.defer&&this.ready){e.scheduleTask(function(){return r.update()})}else{this.update()}}},update:function(){if(this.updating){return}this.updating=true;this.callback.call(this.context,this.value,this.oldValue,this.keypath);this.oldValue=this.value;this.updating=false}};return n}(b,v);var dn=function(e){return function(n,r){function u(t,r){var i,s,o;i=n.viewmodel.wrapped[r]?n.viewmodel.wrapped[r].get():n.get(r);for(s in i){if(i.hasOwnProperty(s)&&(s!=="_ractive"||!e(i))){o=r?r+"."+s:s;t.push(o)}}return t}function a(e){return function(t){return t?t+"."+e:e}}var i,s,o;i=r.split(".");o=[""];while(s=i.shift()){if(s==="*"){o=o.reduce(u,[])}else{if(o[0]===""){o[0]=s}else{o=o.map(a(s))}}}return o}}(o);var vn=function(e){return function(n,r){var i,s;i=e(n,r);s={};i.forEach(function(e){s[e]=n.get(e)});return s}}(dn);var mn=function(e,t,n){var r,i=/\*/,s=Array.prototype.slice;r=function(e,t,n,r){this.root=e;this.callback=n;this.defer=r.defer;this.keypath=t;this.regex=new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$");this.values={};if(this.defer){this.proxies=[]}this.priority="pattern";this.context=r&&r.context?r.context:e};r.prototype={init:function(e){var t,r;t=n(this.root,this.keypath);if(e!==false){for(r in t){if(t.hasOwnProperty(r)){this.update(r)}}}else{this.values=t}},update:function(t){var r;if(i.test(t)){r=n(this.root,t);for(t in r){if(r.hasOwnProperty(t)){this.update(t)}}return}if(this.root.viewmodel.implicitChanges[t]){return}if(this.defer&&this.ready){e.addObserver(this.getProxy(t));return}this.reallyUpdate(t)},reallyUpdate:function(e){var n,r,i;n=this.root.viewmodel.get(e);if(this.updating){this.values[e]=n;return}this.updating=true;if(!t(n,this.values[e])||!this.ready){r=s.call(this.regex.exec(e),1);i=[n,this.values[e],e].concat(r);this.callback.apply(this.context,i);this.values[e]=n}this.updating=false},getProxy:function(e){var t=this;if(!this.proxies[e]){this.proxies[e]={update:function(){t.reallyUpdate(e)}}}return this.proxies[e]}};return r}(b,v,vn);var gn=function(e,t,n){var r=/\*/,i={};return function(o,u,a,f){var l,c,h;u=e(u);f=f||i;if(r.test(u)){l=new n(o,u,a,f);o.viewmodel.patternObservers.push(l);c=true}else{l=new t(o,u,a,f)}o.viewmodel.register(u,l,c?"patternObservers":"observers");l.init(f.init);l.ready=true;return{cancel:function(){var e;if(h){return}if(c){e=o.viewmodel.patternObservers.indexOf(l);o.viewmodel.patternObservers.splice(e,1);o.viewmodel.unregister(u,l,"patternObservers")}o.viewmodel.unregister(u,l,"observers");h=true}}}}(O,pn,mn);var yn=function(e,t){return function(r,i,s){var o,u,a,f;if(e(r)){s=i;u=r;o=[];for(r in u){if(u.hasOwnProperty(r)){i=u[r];o.push(this.observe(r,i,s))}}return{cancel:function(){while(o.length){o.pop().cancel()}}}}if(typeof r==="function"){s=i;i=r;r="";return t(this,r,i,s)}a=r.split(" ");if(a.length===1){return t(this,r,i,s)}o=[];f=a.length;while(f--){r=a[f];if(r){o.push(t(this,r,i,s))}}return{cancel:function(){while(o.length){o.pop().cancel()}}}}}(u,gn);var bn=function(e){return e.trim()};var wn=function(e){return e!==""};var En=function(e,t){return function(r,i){var s=this;var o;if(!r){for(r in this._subs){delete this._subs[r]}}else{o=r.split(" ").map(e).filter(t);o.forEach(function(e){var t,n;if(t=s._subs[e]){if(i){n=t.indexOf(i);if(n!==-1){t.splice(n,1)}}else{s._subs[e]=[]}}})}return this}}(bn,wn);var Sn=function(e,t){return function(r,i){var s=this;var o=this,u,a,f;if(typeof r==="object"){u=[];for(a in r){if(r.hasOwnProperty(a)){u.push(this.on(a,r[a]))}}return{cancel:function(){var e;while(e=u.pop()){e.cancel()}}}}f=r.split(" ").map(e).filter(t);f.forEach(function(e){(s._subs[e]||(s._subs[e]=[])).push(i)});return{cancel:function(){o.off(r,i)}}}}(bn,wn);var xn=function(e,t,n){switch(t){case"splice":return n;case"sort":case"reverse":return null;case"pop":if(e.length){return[-1]}return null;case"push":return[e.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}};var Tn=function(e,t){var n,r,i,s,o,u;if(!t){return null}n=+(t[0]<0?e.length+t[0]:t[0]);s=Math.max(0,t.length-2);o=t[1]!==undefined?t[1]:e.length-n;o=Math.min(o,e.length-n);u=s-o;i=e.length+u;if(!u){r=n+s}else{r=Math.max(e.length,i)}return{rangeStart:n,rangeEnd:r,balance:u,added:s,removed:o}};var Nn=function(e,t,n,r){var i=Array.prototype;return function(s){return function(o){var u=Array.prototype.slice;var a=u.call(arguments,1);var f,l,c,h;f=this.get(o);if(!e(f)){throw new Error("Called ractive."+s+"('"+o+"'), but '"+o+"' does not refer to an array")}l=n(f,s,a);c=r(f,l);i[s].apply(f,a);h=t.start(this,true);if(c){this.viewmodel.splice(o,c)}else{this.viewmodel.mark(o)}t.end();return h}}}(o,b,xn,Tn);var Cn=function(e){return e("pop")}(Nn);var kn=function(e){return e("push")}(Nn);var Ln=function(e,t,n){var r,i,s,o,u,a,f,l="/* Ractive.js component styles */\n",c={},h=[];if(!t){r=null}else{e.push(function(){s=e.runloop});o=document.createElement("style");o.type="text/css";u=document.getElementsByTagName("head")[0];f=false;a=o.styleSheet;i=function(){var e;if(h.length){e=l+h.join(" ");if(a){a.cssText=e}else{o.innerHTML=e}if(!f){u.appendChild(o);f=true}}else if(f){u.removeChild(o);f=false}};r={add:function(e){if(!e.css){return}if(!c[e._guid]){c[e._guid]=0;h.push(e.css);s.scheduleTask(i)}c[e._guid]+=1},remove:function(e){if(!e.css){return}c[e._guid]-=1;if(!c[e._guid]){n(h,e.css);s.scheduleTask(i)}}}}return r}(i,N,c);var An=function(e,t,n){function s(e){if(e.init){e.init(e._config.options)}o(e).forEach(s);r[e._guid]=null}function o(e){return r[e._guid]||(r[e._guid]=[])}var r={},i={};return function(u,a){var f=this;var l,c;i[this._guid]=true;l=e.start(this,true);if(this.rendered){throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first")}u=n(u)||this.el;a=n(a)||this.anchor;this.el=u;this.anchor=a;if(this.constructor.css){t.add(this.constructor)}if(u){if(!(c=u.__ractive_instances__)){u.__ractive_instances__=[this]}else{c.push(this)}if(a){u.insertBefore(this.fragment.render(),a)}else{u.appendChild(this.fragment.render())}}if(!this._hasInited){this._hasInited=true;if(!this._parent||!i[this._parent._guid]){s(this)}else{o(this._parent).push(this)}}i[this._guid]=false;e.end();this.rendered=true;if(this.complete){l.then(function(){return f.complete()})}return l}}(b,Ln,ln);var On=function(){this.dirtyValue=this.dirtyArgs=true;if(this.inited&&this.owner.bubble){this.owner.bubble()}};var Mn=function(){var t;if(this.items.length===1){return this.items[0].detach()}t=document.createDocumentFragment();this.items.forEach(function(e){t.appendChild(e.detach())});return t};var _n=function(t){var n,r,i,s;if(this.items){r=this.items.length;for(n=0;n<r;n+=1){i=this.items[n];if(i.find&&(s=i.find(t))){return s}}return null}};var Dn=function(t,n){var r,i,s;if(this.items){i=this.items.length;for(r=0;r<i;r+=1){s=this.items[r];if(s.findAll){s.findAll(t,n)}}}return n};var Pn=function(t,n){var r,i,s;if(this.items){i=this.items.length;for(r=0;r<i;r+=1){s=this.items[r];if(s.findAllComponents){s.findAllComponents(t,n)}}}return n};var Hn=function(t){var n,r,i,s;if(this.items){n=this.items.length;for(r=0;r<n;r+=1){i=this.items[r];if(i.findComponent&&(s=i.findComponent(t))){return s}}return null}};var Bn=function(t){var n=t.index,r;if(this.items[n+1]){r=this.items[n+1].firstNode()}else if(this.owner===this.root){if(!this.owner.component){r=null}else{r=this.owner.component.findNextNode()}}else{r=this.owner.findNextNode(this)}return r};var jn=function(){if(this.items&&this.items[0]){return this.items[0].firstNode()}return null};var Fn=function(){var t=this;do{if(t.pElement){return t.pElement.node}}while(t=t.parent);return this.root.el};var In=function(e){function n(e,t,r,i){i=i||0;return e.map(function(e){var s,o,u;if(e.text){return e.text}if(e.fragments){return e.fragments.map(function(e){return n(e.items,t,r,i)}).join("")}s=r+"-"+i++;if(o=e.root.viewmodel.wrapped[e.keypath]){u=o.value}else{u=e.getValue()}t[s]=u;return"${"+s+"}"}).join("")}var t={};return function(){var i=arguments[0];if(i===void 0)i=t;var s,o,u,a,f,l,c;s=i.args;f=s?"argsList":"value";l=s?"dirtyArgs":"dirtyValue";if(this[l]){u=n(this.items,o={},this.root._guid);a=e(s?"["+u+"]":u,o);if(!a){c=s?[this.toString()]:this.toString()}else{c=a.value}this[f]=c;this[l]=false}return this[f]}}(Lt);var qn=function(){var e=/</g,t=/>/g;return function(r){return r.replace(e,"&lt;").replace(t,"&gt;")}}();var Rn=function(t){if(t&&t.parentNode){t.parentNode.removeChild(t)}return t};var Un=function(e){return function(){return e(this.node)}}(Rn);var zn=function(e,t,n){var r=function(t){this.type=e.TEXT;this.text=t.template};r.prototype={detach:n,firstNode:function(){return this.node},render:function(){if(!this.node){this.node=document.createTextNode(this.text)}return this.node},toString:function(e){return e?t(this.text):this.text},unrender:function(e){if(e){return this.detach()}}};return r}(R,qn,Un);var Wn=function(e){return function(){if(!this.keypath){e.removeUnresolved(this)}else{this.root.viewmodel.unregister(this.keypath,this)}if(this.resolver){this.resolver.teardown()}}}(b);var Xn=function(){return this.value};var Vn=function(e){var t=function(t,n,r,i){this.root=t;this.ref=n;this.parentFragment=r;this.resolve=i;e.addUnresolved(this)};t.prototype={teardown:function(){e.removeUnresolved(this)}};return t}(b);var $n=function(t,n){return t.substr(0,n.length+1)===n+"."};var Jn=function(e){return function(n,r,i){if(n===r){return i}if(e(n,r)){return n.replace(r+".",i+".")}}}($n);var Kn=function(e,t){function r(e){var n=t[e.message]||e.message||"";return i(n,e.args)}function i(e,t){return e.replace(/{([^{}]*)}/g,function(e,n){return t[n]})}var n={warn:function(e,t){if(!e.debug&&!t){return}this.logger(r(e),e.allowDuplicates)},error:function(e){this.errorOnly(e);if(!e.debug){this.warn(e,true)}},errorOnly:function(e){if(e.debug){this.critical(e)}},critical:function(e){var t=e.err||new Error(r(e));this.thrower(t)},logger:e,thrower:function(e){throw e}};return n}(H,q);var Qn=function(t,n,r){var i,s;i=n.length;while(i--){s=n[i];if(r.indexOf(s)===-1){t.viewmodel.unregister(s,t,"computed")}}i=r.length;while(i--){s=r[i];if(n.indexOf(s)===-1){t.viewmodel.register(s,t,"computed")}}t.dependencies=r.slice()};var Gn=function(e,t,n,r){function o(e,t){var n,r;e=e.replace(/\$\{([0-9]+)\}/g,"_$1");if(s[e]){return s[e]}r=[];while(t--){r[t]="_"+t}n=new Function(r.join(","),"return("+e+")");s[e]=n;return n}function u(e,t){var r,i;if(e._noWrap){return e}i="__ractive_"+t._guid;r=e[i];if(r){return r}else if(/this/.test(e.toString())){n(e,i,{value:e.bind(t)});return e[i]}n(e,"__ractive_nowrap",{value:e});return e.__ractive_nowrap}function a(e){return typeof e==="function"?e():e}var i,s={};i=function(e,t,n,r,i,s){var a=this,f=e.viewmodel;a.root=e;a.viewmodel=f;a.uniqueString=n;a.keypath=t;a.priority=s;a.fn=o(r,i.length);a.explicitDependencies=[];a.dependencies=[];a.argumentGetters=i.map(function(t){var n,r;if(!t){return void 0}if(t.indexRef){r=t.value;return r}n=t.keypath;a.explicitDependencies.push(n);f.register(n,a,"computed");return function(){var t=f.get(n);return typeof t==="function"?u(t,e):t}})};i.prototype={wake:function(){this.awake=true},sleep:function(){this.awake=false},getValue:function(){var t,n,i;t=this.argumentGetters.map(a);if(this.updating){return}this.updating=true;this.viewmodel.capture();try{n=this.fn.apply(null,t)}catch(s){if(this.root.debug){e.warn({debug:this.root.debug,message:"evaluationError",args:{uniqueString:this.uniqueString,err:s.message||s}})}n=undefined}i=this.viewmodel.release();r(this,this.dependencies,i);this.updating=false;return n},update:function(){var e=this.getValue();if(!t(e,this.value)){this.value=e;this.root.viewmodel.mark(this.keypath)}return this},teardown:function(){var e=this;this.explicitDependencies.concat(this.dependencies).forEach(function(t){return e.viewmodel.unregister(t,e,"computed")});this.root.viewmodel.evaluators[this.keypath]=null}};return i}(Kn,v,C,Qn);var Yn=function(e,t,n,r,i){function o(e,t){return e.replace(/\$\{([0-9]+)\}/g,function(e,n){var r=t[n];if(!r)return"undefined";if(r.indexRef)return r.value;return r.keypath})}function u(e){return"${"+e.replace(/[\.\[\]]/g,"-")+"}"}var s=function(r,i,s,o){var u=this,a,f,l;a=r.root;this.root=a;this.callback=o;this.owner=r;this.str=s.s;this.args=l=[];this.unresolved=[];this.pending=0;f=i.indexRefs;if(!s.r||!s.r.length){this.resolved=this.ready=true;this.bubble();return}s.r.forEach(function(r,s){var o,c,h;if(f&&(o=f[r])!==undefined){l[s]={indexRef:r,value:o};return}if(c=t(a,r,i)){l[s]={keypath:c};return}l[s]=null;u.pending+=1;h=new n(a,r,i,function(t){u.resolve(s,t);e(u.unresolved,h)});u.unresolved.push(h)});this.ready=true;this.bubble()};s.prototype={bubble:function(){if(!this.ready){return}this.uniqueString=o(this.str,this.args);this.keypath=u(this.uniqueString);this.createEvaluator();this.callback(this.keypath)},teardown:function(){var e;while(e=this.unresolved.pop()){e.teardown()}},resolve:function(e,t){this.args[e]={keypath:t};this.bubble();this.resolved=!--this.pending},createEvaluator:function(){var e=this.root.viewmodel.evaluators[this.keypath];if(!e){e=new r(this.root,this.keypath,this.uniqueString,this.str,this.args,this.owner.priority);this.root.viewmodel.evaluators[this.keypath]=e}e.update()},rebind:function(e,t,n,r){var s;this.args.forEach(function(o){var u;if(!o)return;if(o.keypath&&(u=i(o.keypath,n,r))){o.keypath=u;s=true}else if(o.indexRef&&o.indexRef===e){o.value=t;s=true}});if(s){this.bubble()}}};return s}(c,g,Vn,Gn,Jn);var Zn=function(e,t,n,r,i){var s=function(r,s,o){var u=this,a,f,l,c,h;u.resolver=s;u.root=s.root;u.viewmodel=s.root.viewmodel;if(typeof r==="string"){u.value=r}else if(r.t===e.REFERENCE){a=u.ref=r.n;if((f=o.indexRefs)&&(l=f[a])!==undefined){u.indexRef=a;u.value=l}else{c=s.root;if(h=t(c,a,o)){u.resolve(h)}else{u.unresolved=new n(c,a,o,function(e){u.unresolved=null;u.resolve(e)})}}}else{new i(s,o,r,function(e){u.resolve(e)})}};s.prototype={resolve:function(e){this.keypath=e;this.value=this.viewmodel.get(e);this.bind();this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t,n,i){var s;if(e&&this.indexRef===e){if(t!==this.value){this.value=t;return true}}else if(this.keypath&&(s=r(this.keypath,n,i))){this.unbind();this.keypath=s;this.value=this.root.viewmodel.get(s);this.bind();return true}},setValue:function(e){this.value=e;this.resolver.bubble()},unbind:function(){if(this.keypath){this.root.viewmodel.unregister(this.keypath,this)}},teardown:function(){this.unbind();if(this.unresolved){this.unresolved.teardown()}},forceResolution:function(){if(this.unresolved){this.unresolved.teardown();this.unresolved=null;this.keypath=this.ref;this.value=this.viewmodel.get(this.ref);this.bind()}}};return s}(R,g,Vn,Jn,Yn);var er=function(e,t,n){function i(e){return e.value}function s(e){return e!=undefined}function o(e){e.unbind()}var r=function(r,i,s){var o=this;var u=this,a,f,l,c;c=r.parentFragment;u.root=a=r.root;u.mustache=r;u.priority=r.priority;u.ref=f=i.r;u.callback=s;u.unresolved=[];if(l=e(a,f,c)){u.base=l}else{u.baseResolver=new t(a,f,c,function(e){u.base=e;u.baseResolver=null;u.bubble()})}u.members=i.m.map(function(e){return new n(e,o,c)});u.ready=true;u.bubble()};r.prototype={getKeypath:function(){var e=this.members.map(i);if(!e.every(s)||this.baseResolver){return}return this.base+"."+e.join(".")},bubble:function(){if(!this.ready||this.baseResolver){return}this.callback(this.getKeypath())},teardown:function(){this.members.forEach(o)},rebind:function(e,t,n,r){var i;this.members.forEach(function(s){if(s.rebind(e,t,n,r)){i=true}});if(i){this.bubble()}},forceResolution:function(){if(this.baseResolver){this.base=this.ref;this.baseResolver.teardown();this.baseResolver=null}this.members.forEach(function(e){return e.forceResolution()});this.bubble()}};return r}(g,Vn,Zn);var tr=function(e,t,n,r,i){return function(o,u){function d(e){var t=o.keypath;if(e!==t){o.resolve(e);if(t!==undefined){o.fragments&&o.fragments.forEach(function(n){n.rebind(null,null,t,e)})}}}var a,f,l,c,h,p;h=u.parentFragment;p=u.template;o.root=h.root;o.parentFragment=h;o.pElement=h.pElement;o.template=u.template;o.index=u.index||0;o.priority=h.priority;o.isStatic=u.template.s;o.type=u.template.t;if(a=p.r){l=h.indexRefs;if(l&&(c=l[a])!==undefined){o.indexRef=a;o.setValue(c);return}f=n(o.root,a,o.parentFragment);if(f!==undefined){o.resolve(f)}else{o.ref=a;t.addUnresolved(o)}}if(u.template.x){o.resolver=new i(o,h,u.template.x,d)}if(u.template.rx){o.resolver=new r(o,u.template.rx,d)}if(o.template.n===e.SECTION_UNLESS&&!o.hasOwnProperty("value")){o.setValue(undefined)}}}(R,b,g,er,Yn);var nr=function(t){var n,r,i;if(this.keypath!==undefined){this.root.viewmodel.unregister(this.keypath,this);n=true}this.keypath=t;if(t!==undefined){r=this.root.viewmodel.get(t);this.root.viewmodel.register(t,this)}this.setValue(r);if(n&&(i=this.twowayBinding)){i.rebound()}};var rr=function(e){return function(n,r,i,s){var o;if(this.fragments){this.fragments.forEach(function(e){return e.rebind(n,r,i,s)})}if(this.resolver){this.resolver.rebind(n,r,i,s)}if(this.keypath){if(o=e(this.keypath,i,s)){this.resolve(o)}}else if(n!==undefined&&this.indexRef===n){this.setValue(r)}}}(Jn);var ir=function(e,t,n,r){return{getValue:e,init:t,resolve:n,rebind:r}}(Xn,tr,nr,rr);var sr=function(e,t,n,r,i,s,o){var u=function(t){this.type=e.INTERPOLATOR;s.init(this,t)};u.prototype={update:function(){this.node.data=this.value==undefined?"":this.value},resolve:s.resolve,rebind:s.rebind,detach:o,unbind:i,render:function(){if(!this.node){this.node=document.createTextNode(this.value!=undefined?this.value:"")}return this.node},unrender:function(e){if(e){r(this.node)}},getValue:s.getValue,setValue:function(e){var n;if(n=this.root.viewmodel.wrapped[this.keypath]){e=n.get()}if(e!==this.value){this.value=e;this.parentFragment.bubble();if(this.node){t.addView(this)}}},firstNode:function(){return this.node},toString:function(e){var t=this.value!=undefined?""+this.value:"";return e?n(t):t}};return u}(R,b,qn,Rn,Wn,ir,Un);var or=function(){this.parentFragment.bubble()};var ur=function(){var t;if(this.fragments.length===1){return this.fragments[0].detach()}t=document.createDocumentFragment();this.fragments.forEach(function(e){t.appendChild(e.detach())});return t};var ar=function(t){var n,r,i;r=this.fragments.length;for(n=0;n<r;n+=1){if(i=this.fragments[n].find(t)){return i}}return null};var fr=function(t,n){var r,i;i=this.fragments.length;for(r=0;r<i;r+=1){this.fragments[r].findAll(t,n)}};var lr=function(t,n){var r,i;i=this.fragments.length;for(r=0;r<i;r+=1){this.fragments[r].findAllComponents(t,n)}};var cr=function(t){var n,r,i;r=this.fragments.length;for(n=0;n<r;n+=1){if(i=this.fragments[n].findComponent(t)){return i}}return null};var hr=function(t){if(this.fragments[t.index+1]){return this.fragments[t.index+1].firstNode()}return this.parentFragment.findNextNode(this)};var pr=function(){var t,n,r;if(t=this.fragments.length){for(n=0;n<t;n+=1){if(r=this.fragments[n].firstNode()){return r}}}return this.parentFragment.findNextNode(this)};var dr=function(e,t){var n;t.push(function(){n=t.Fragment});return function(n){var r=this,i,s,o,u,a,f,l,c;if(this.unbound){return}i=this.parentFragment;a=[];n.forEach(function(t,n){var i,o,u,f;if(t===n){a[t]=r.fragments[n];return}i=r.fragments[n];if(s===undefined){s=n}if(t===-1){r.fragmentsToUnrender.push(i);i.unbind();return}o=t-n;u=r.keypath+"."+n;f=r.keypath+"."+t;i.rebind(r.template.i,t,u,f);a[t]=i});u=this.root.get(this.keypath).length;if(s===undefined){if(this.length===u){return}s=this.length}this.length=this.fragments.length=u;e.addView(this);f={template:this.template.f,root:this.root,owner:this};if(this.template.i){f.indexRef=this.template.i}for(o=s;o<u;o+=1){if(l=a[o]){this.docFrag.appendChild(l.detach(false))}else{this.fragmentsToCreate.push(o)}this.fragments[o]=l}c=i.findNextNode(this);this.parentFragment.getNode().insertBefore(this.docFrag,c)}}(b,i);var vr=function(){var t;t=this.docFrag=document.createDocumentFragment();this.update();this.rendered=true;return t};var mr=function(e,t,n,r,i){function o(r,i){var s={template:r.template.f,root:r.root,pElement:r.parentFragment.pElement,owner:r};if(r.subtype){switch(r.subtype){case e.SECTION_IF:return l(r,i,false,s);case e.SECTION_UNLESS:return l(r,i,true,s);case e.SECTION_WITH:return f(r,s);case e.SECTION_EACH:if(n(i)){return a(r,i,s)}}}r.ordered=!!t(i);if(r.ordered){return u(r,i,s)}if(n(i)||typeof i==="function"){if(r.template.i){return a(r,i,s)}return f(r,s)}return l(r,i,false,s)}function u(e,t,n){var r,i,o;i=t.length;if(i===e.length){return false}if(i<e.length){e.fragmentsToUnrender=e.fragments.splice(i,e.length-i);e.fragmentsToUnrender.forEach(c)}else{if(i>e.length){for(r=e.length;r<i;r+=1){n.context=e.keypath+"."+r;n.index=r;if(e.template.i){n.indexRef=e.template.i}o=new s(n);e.fragmentsToRender.push(e.fragments[r]=o)}}}e.length=i;return true}function a(e,t,n){var r,i,o,u,a;o=e.hasKey||(e.hasKey={});i=e.fragments.length;while(i--){u=e.fragments[i];if(!(u.index in t)){a=true;u.unbind();e.fragmentsToUnrender.push(u);e.fragments.splice(i,1);o[u.index]=false}}for(r in t){if(!o[r]){a=true;n.context=e.keypath+"."+r;n.index=r;if(e.template.i){n.indexRef=e.template.i}u=new s(n);e.fragmentsToRender.push(u);e.fragments.push(u);o[r]=true}}e.length=e.fragments.length;return a}function f(e,t){var n;if(!e.length){t.context=e.keypath;t.index=0;n=new s(t);e.fragmentsToRender.push(e.fragments[0]=n);e.length=1;return true}}function l(e,n,r,i){var o,u,a;u=t(n)&&n.length===0;if(r){o=u||!n}else{o=n&&!u}if(o){if(!e.length){i.index=0;a=new s(i);e.fragmentsToRender.push(e.fragments[0]=a);e.length=1;return true}if(e.length>1){e.fragmentsToUnrender=e.fragments.splice(1);e.fragmentsToUnrender.forEach(c);return true}}else if(e.length){e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length);e.fragmentsToUnrender.forEach(c);e.length=0;return true}}function c(e){e.unbind()}var s;i.push(function(){s=i.Fragment});return function(t){var n=this;var i,u;if(this.updating){return}this.updating=true;if(i=this.root.viewmodel.wrapped[this.keypath]){t=i.get()}if(this.fragmentsToCreate.length){u={template:this.template.f,root:this.root,pElement:this.pElement,owner:this,indexRef:this.template.i};this.fragmentsToCreate.forEach(function(e){var t;u.context=n.keypath+"."+e;u.index=e;t=new s(u);n.fragmentsToRender.push(n.fragments[e]=t)});this.fragmentsToCreate.length=0}else if(o(this,t)){this.bubble();if(this.rendered){r.addView(this)}}this.value=t;this.updating=false}}(R,o,u,b,i);var gr=function(e,t){function r(e){e.unbind()}function i(e,t){var n=[],r;for(r=e;r<t;r+=1){n.push(r)}return n}function s(e,t,n,r){var i,s,o,u,a;o=e.template.i;for(i=t;i<n;i+=1){s=e.fragments[i];u=e.keypath+"."+(i-r);a=e.keypath+"."+i;s.index=i;s.rebind(o,i,u,a)}}var n;t.push(function(){n=t.Fragment});return function(n){var o=this,u,a,f,l,c;if(this.unbound){return}u=n.balance;if(!u){return}e.addView(o);a=n.rangeStart;o.length+=u;if(u<0){o.fragmentsToUnrender=o.fragments.splice(a,-u);o.fragmentsToUnrender.forEach(r);s(o,a,o.length,u);return}f=a+n.removed;l=a+n.added;c=[f,0];c.length+=u;o.fragments.splice.apply(o.fragments,c);s(o,l,o.length,u);o.fragmentsToCreate=i(f,l)}}(b,i);var yr=function(t){var n,r,i;n="";r=0;i=this.length;for(r=0;r<i;r+=1){n+=this.fragments[r].toString(t)}return n};var br=function(e){function t(e){e.unbind()}return function(){this.fragments.forEach(t);e.call(this);this.length=0;this.unbound=true}}(Wn);var wr=function(){function e(e){e.unrender(true)}function t(e){e.unrender(false)}return function(r){this.fragments.forEach(r?e:t)}}();var Er=function(){var t,n,r,i,s;while(t=this.fragmentsToUnrender.pop()){t.unrender(true)}if(!this.fragmentsToRender.length){return}if(this.rendered){s=this.parentFragment.getNode()}while(t=this.fragmentsToRender.shift()){n=t.render();this.docFrag.appendChild(n);if(this.rendered&&this.ordered){r=this.fragments[t.index+1];if(r&&r.rendered){s.insertBefore(this.docFrag,r.firstNode()||null)}}}if(this.rendered&&this.docFrag.childNodes.length){i=this.parentFragment.findNextNode(this);s.insertBefore(this.docFrag,i)}};var Sr=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g){var y=function(n){this.type=e.SECTION;this.subtype=n.template.n;this.inverted=this.subtype===e.SECTION_UNLESS;this.pElement=n.pElement;this.fragments=[];this.fragmentsToCreate=[];this.fragmentsToRender=[];this.fragmentsToUnrender=[];this.length=0;t.init(this,n)};y.prototype={bubble:n,detach:r,find:i,findAll:s,findAllComponents:o,findComponent:u,findNextNode:a,firstNode:f,getValue:t.getValue,merge:l,rebind:t.rebind,render:c,resolve:t.resolve,setValue:h,splice:p,toString:d,unbind:v,unrender:m,update:g};return y}(R,ir,or,ur,ar,fr,lr,cr,hr,pr,dr,vr,mr,gr,yr,br,wr,Er);var xr=function(){var t,n;if(this.docFrag){t=this.nodes.length;for(n=0;n<t;n+=1){this.docFrag.appendChild(this.nodes[n])}return this.docFrag}};var Tr=function(e){return function(n){var r,i,s,o;i=this.nodes.length;for(r=0;r<i;r+=1){s=this.nodes[r];if(s.nodeType!==1){continue}if(e(s,n)){return s}if(o=s.querySelector(n)){return o}}return null}}(Kt);var Nr=function(e){return function(n,r){var i,s,o,u,a,f;s=this.nodes.length;for(i=0;i<s;i+=1){o=this.nodes[i];if(o.nodeType!==1){continue}if(e(o,n)){r.push(o)}if(u=o.querySelectorAll(n)){a=u.length;for(f=0;f<a;f+=1){r.push(u[f])}}}}}(Kt);var Cr=function(){if(this.rendered&&this.nodes[0]){return this.nodes[0]}return this.parentFragment.findNextNode(this)};var kr=function(e,t){function o(e){return n[e]||(n[e]=t(e))}var n={},r,i;try{t("table").innerHTML="foo"}catch(s){r=true;i={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return function(t,n,s){var u,a=[],f,l,c,h;if(t){if(r&&(f=i[n.tagName])){u=o("DIV");u.innerHTML=f[0]+t+f[1];u=u.querySelector(".x");if(u.tagName==="SELECT"){l=u.options[u.selectedIndex]}}else if(n.namespaceURI===e.svg){u=o("DIV");u.innerHTML='<svg class="x">'+t+"</svg>";u=u.querySelector(".x")}else{u=o(n.tagName);u.innerHTML=t}while(c=u.firstChild){a.push(c);s.appendChild(c)}if(r&&n.tagName==="SELECT"){h=a.length;while(h--){if(a[h]!==l){a[h].selected=false}}}}return a}}(x,T);var Lr=function(t){var n=[],r=t.length;while(r--){n[r]=t[r]}return n};var Ar=function(e){function t(e){return e.selected}return function(r){var i,s,o;if(!r||r.name!=="select"||!r.binding){return}i=e(r.node.options).filter(t);if(r.getAttribute("multiple")){o=i.map(function(e){return e.value})}else if(s=i[0]){o=s.value}if(o!==undefined){r.binding.setValue(o)}r.bubble()}}(Lr);var Or=function(e,t){return function(){if(this.rendered){throw new Error("Attempted to render an item that was already rendered")}this.docFrag=document.createDocumentFragment();this.nodes=e(this.value,this.parentFragment.getNode(),this.docFrag);t(this.pElement);this.rendered=true;return this.docFrag}}(kr,Ar);var Mr=function(e){return function(n){var r;if(r=this.root.viewmodel.wrapped[this.keypath]){n=r.get()}if(n!==this.value){this.value=n;this.parentFragment.bubble();if(this.rendered){e.addView(this)}}}}(b);var _r=function(){return this.value!=undefined?this.value:""};var Dr=function(e){return function(n){if(this.rendered&&n){this.nodes.forEach(e);this.rendered=false}}}(Rn);var Pr=function(e,t){return function(){var r,i;if(!this.rendered){return}while(this.nodes&&this.nodes.length){r=this.nodes.pop();r.parentNode.removeChild(r)}i=this.parentFragment.getNode();this.nodes=e(this.value,i,this.docFrag);i.insertBefore(this.docFrag,this.parentFragment.findNextNode(this));t(this.pElement)}}(kr,Ar);var Hr=function(e,t,n,r,i,s,o,u,a,f,l,c){var h=function(n){this.type=e.TRIPLE;t.init(this,n)};h.prototype={detach:n,find:r,findAll:i,firstNode:s,getValue:t.getValue,rebind:t.rebind,render:o,resolve:t.resolve,setValue:u,toString:a,unbind:c,unrender:f,update:l};return h}(R,ir,xr,Tr,Nr,Cr,Or,Mr,_r,Dr,Pr,Wn);var Br=function(){this.parentFragment.bubble()};var jr=function(){var t=this.node,n;if(t){if(n=t.parentNode){n.removeChild(t)}return t}};var Fr=function(e){return function(t){if(e(this.node,t)){return this.node}if(this.fragment&&this.fragment.find){return this.fragment.find(t)}}}(Kt);var Ir=function(e,t){if(t._test(this,true)&&t.live){(this.liveQueries||(this.liveQueries=[])).push(t)}if(this.fragment){this.fragment.findAll(e,t)}};var qr=function(e,t){if(this.fragment){this.fragment.findAllComponents(e,t)}};var Rr=function(e){if(this.fragment){return this.fragment.findComponent(e)}};var Ur=function(){return null};var zr=function(){return this.node};var Wr=function(t){if(!this.attributes||!this.attributes[t]){return}return this.attributes[t].value};var Xr=function(){var e,t,n,r;e="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" ");t="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" ");n=function(e){var t={},n=e.length;while(n--){t[e[n].toLowerCase()]=e[n]}return t};r=n(e.concat(t));return function(e){var t=e.toLowerCase();return r[t]||t}}();var Vr=function(e){return function(){var n=this.fragment.getValue();if(n!==this.value){this.value=n;if(this.name==="value"&&this.node){this.node._ractive.value=n}if(this.rendered){e.addView(this)}}}}(b);var $r=function(e,t){return function(n,r){var i,s;i=r.indexOf(":");if(i!==-1){s=r.substr(0,i);if(s!=="xmlns"){r=r.substring(i+1);n.name=t(r);n.namespace=e[s.toLowerCase()];if(!n.namespace){throw'Unknown namespace ("'+s+'")'}return}}n.name=n.element.namespace!==e.html?t(r):r}}(x,Xr);var Jr=function(e){return function(n){var r=n.fragment.items;if(r.length!==1){return}if(r[0].type===e.INTERPOLATOR){return r[0]}}}(R);var Kr=function(e){var t={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(n,r){var i;if(n.pNode&&!n.namespace&&(!r.pNode.namespaceURI||r.pNode.namespaceURI===e.html)){i=t[n.name]||n.name;if(r.pNode[i]!==undefined){n.propertyName=i}if(typeof r.pNode[i]==="boolean"||i==="value"){n.useProperty=true}}}}(x);var Qr=function(e,t,n,r,i){var s;i.push(function(){s=i.Fragment});return function(o){this.type=e.ATTRIBUTE;this.element=o.element;this.root=o.root;t(this,o.name);if(!o.value||typeof o.value==="string"){this.value=o.value||true;return}this.parentFragment=this.element.parentFragment;this.fragment=new s({template:o.value,root:this.root,owner:this});this.value=this.fragment.getValue();this.interpolator=n(this);this.isBindable=!!this.interpolator;r(this,o);this.ready=true}}(R,$r,Jr,Kr,i);var Gr=function(t,n,r,i){if(this.fragment){this.fragment.rebind(t,n,r,i)}};var Yr=function(e){var t={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(r){var i;this.node=r;if(!r.namespaceURI||r.namespaceURI===e.html){i=t[this.name]||this.name;if(r[i]!==undefined){this.propertyName=i}if(typeof r[i]==="boolean"||i==="value"){this.useProperty=true}if(i==="value"){this.useProperty=true;r._ractive.value=this.value}}this.rendered=true;this.update()}}(x);var Zr=function(){function e(e){return e.replace(/&/g,"&").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}return function(){var n,r,i;n=this.name;r=this.value;if(n==="value"&&this.element.name==="select"){return}if(n==="name"&&this.element.name==="input"&&(i=this.interpolator)){return"name={{"+(i.keypath||i.ref)+"}}"}if(typeof r==="number"){return n+'="'+r+'"'}if(typeof r==="string"){return n+'="'+e(r)+'"'}return r?n:""}}();var ei=function(){if(this.fragment){this.fragment.unbind()}};var ti=function(){var t=this.value,n,r,i,s;if(!this.locked){this.node._ractive.value=t;n=this.node.options;s=n.length;while(s--){r=n[s];i=r._ractive?r._ractive.value:r.value;if(i==t){r.selected=true;break}}}};var ni=function(e){return function(){var n=this.value,r,i,s,o;if(!e(n)){n=[n]}r=this.node.options;i=r.length;while(i--){s=r[i];o=s._ractive?s._ractive.value:s.value;s.selected=n.indexOf(o)!==-1}}}(o);var ri=function(){var t=(n=this).node,n=n.value;t.checked=n==t._ractive.value};var ii=function(e){return function(){var n,r=this.node,i,s,o;n=r.checked;r.value=this.element.getAttribute("value");r.checked=this.element.getAttribute("value")===this.element.getAttribute("name");if(n&&!r.checked&&this.element.binding){s=this.element.binding.siblings;if(o=s.length){while(o--){i=s[o];if(!i.element.node){return}if(i.element.node.checked){e.addViewmodel(i.root.viewmodel);return i.handleChange()}}e.addViewmodel(i.root.viewmodel);this.root.viewmodel.set(i.keypath,undefined)}}}}(b);var si=function(e){return function(){var n,r;n=this.node;r=this.value;if(!e(r)){n.checked=r==n._ractive.value}else{n.checked=r.indexOf(n._ractive.value)!==-1}}}(o);var oi=function(){var t,n;t=this.node;n=this.value;if(n===undefined){n=""}t.className=n};var ui=function(){var t,n;t=this.node;n=this.value;if(n!==undefined){this.root.nodes[n]=undefined}this.root.nodes[n]=t;t.id=n};var ai=function(){var t,n;t=this.node;n=this.value;if(n===undefined){n=""}t.style.setAttribute("cssText",n)};var fi=function(){var t,n;t=this.node;n=this.value;if(n===undefined){n=""}if(!this.locked){t.innerHTML=n}};var li=function(){var t,n;t=this.node;n=this.value;t._ractive.value=n;if(!this.locked){t.value=n==undefined?"":n}};var ci=function(){if(!this.locked){this.node[this.propertyName]=this.value}};var hi=function(){var t,n,r;t=this.node;n=this.name;r=this.value;if(this.namespace){t.setAttributeNS(this.namespace,n,r)}else if(typeof r==="string"||typeof r==="number"){t.setAttribute(n,r)}else{if(r){t.setAttribute(n,"")}else{t.removeAttribute(n)}}};var pi=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){return function(){var v,m,g,y,b;v=this.name;m=this.element;g=this.node;if(v==="id"){b=a}else if(v==="value"){if(m.name==="select"&&v==="value"){b=g.multiple?r:n}else if(m.name==="textarea"){b=c}else if(g.getAttribute("contenteditable")){b=l}else if(m.name==="input"){y=m.getAttribute("type");if(y==="file"){b=t}else if(y==="radio"&&m.binding&&m.binding.name==="name"){b=s}else{b=c}}}else if(this.twoway&&v==="name"){if(g.type==="radio"){b=i}else if(g.type==="checkbox"){b=o}}else if(v==="style"&&g.style.setAttribute){b=f}else if(v==="class"&&(!g.namespaceURI||g.namespaceURI===e.html)){b=u}else if(this.useProperty){b=h}if(!b){b=p}this.update=b;this.update()}}(x,qt,ti,ni,ri,ii,si,oi,ui,ai,fi,li,ci,hi);var di=function(e,t,n,r,i,s,o){var u=function(e){this.init(e)};u.prototype={bubble:e,init:t,rebind:n,render:r,toString:i,unbind:s,update:o};return u}(Vr,Qr,Gr,Yr,Zr,ei,pi);var vi=function(e){return function(t,n){var r,i,s=[];for(r in n){if(n.hasOwnProperty(r)){i=new e({element:t,name:r,value:n[r],root:t.root});s.push(s[r]=i)}}return s}}(di);var mi=function(e){var t=Array.prototype.slice;var n=t.call(arguments,1);var r,i;while(i=n.shift()){for(r in i){if(i.hasOwnProperty(r)){e[r]=i[r]}}}return e};var gi=function(e,t,n,r,i){var s=function(e){var n,r,i;this.element=e;this.root=e.root;this.attribute=e.attributes[this.name||"value"];n=this.attribute.interpolator;n.twowayBinding=this;if(n.keypath&&n.keypath.substr==="${"){t("Two-way binding does not work with expressions: "+n.keypath);return false}if(!n.keypath){if(n.ref){n.resolve(n.ref)}if(n.resolver){n.resolver.forceResolution()}}this.keypath=r=n.keypath;if(this.root.viewmodel.get(r)===undefined&&this.getInitialValue){i=this.getInitialValue();if(i!==undefined){this.root.viewmodel.set(r,i)}}};s.prototype={handleChange:function(){var t=this;e.start(this.root);this.attribute.locked=true;this.root.viewmodel.set(this.keypath,this.getValue());e.scheduleTask(function(){return t.attribute.locked=false});e.end()},rebound:function(){var e,t,n;t=this.keypath;n=this.attribute.interpolator.keypath;if(t===n){return}i(this.root._twowayBindings[t],this);this.keypath=n;e=this.root._twowayBindings[n]||(this.root._twowayBindings[n]=[]);e.push(this)},unbind:function(){}};s.extend=function(e){var t=this,i;i=function(e){s.call(this,e);if(this.init){this.init()}};i.prototype=n(t.prototype);r(i.prototype,e);i.extend=s.extend;return i};return s}(b,H,U,mi,c);var yi=function(){this._ractive.binding.handleChange()};var bi=function(e,t){var n=e.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var e=this.element.node;e.addEventListener("change",t,false);if(!this.root.lazy){e.addEventListener("input",t,false);if(e.attachEvent){e.addEventListener("keyup",t,false)}}},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,false);e.removeEventListener("input",t,false);e.removeEventListener("keyup",t,false)},getValue:function(){return this.element.node.innerHTML}});return n}(gi,yi);var wi=function(){var e={};return function(n,r,i){var s=n+r+i;return e[s]||(e[s]=[])}}();var Ei=function(e,t,n,r,i){var s=n.extend({name:"checked",init:function(){this.siblings=r(this.root._guid,"radio",this.element.getAttribute("name"));this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",i,false);if(e.attachEvent){e.addEventListener("click",i,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",i,false);e.removeEventListener("click",i,false)},handleChange:function(){e.start(this.root);this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())});e.end()},getValue:function(){return this.element.node.checked},unbind:function(){t(this.siblings,this)}});return s}(b,c,gi,wi,yi);var Si=function(e,t,n,r){var i=t.extend({name:"name",init:function(){this.siblings=r(this.root._guid,"radioname",this.keypath);this.siblings.push(this);this.radioName=true;this.attribute.twoway=true},getInitialValue:function(){if(this.element.getAttribute("checked")){return this.element.getAttribute("value")}},render:function(){var e=this.element.node;e.name="{{"+this.keypath+"}}";e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value");e.addEventListener("change",n,false);if(e.attachEvent){e.addEventListener("click",n,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",n,false);e.removeEventListener("click",n,false)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){if(this.element.node.checked){t.prototype.handleChange.call(this)}},rebound:function(e,n,r,i){var s;t.prototype.rebound.call(this,e,n,r,i);if(s=this.element.node){s.name="{{"+this.keypath+"}}"}},unbind:function(){e(this.siblings,this)}});return i}(c,gi,yi,wi);var xi=function(e,t,n,r,i){function o(e){return e.isChecked}function u(e){return e.element.getAttribute("value")}var s=n.extend({name:"name",getInitialValue:function(){this.noInitialValue=true;return[]},init:function(){var t,n,i;this.checkboxName=true;this.siblings=r(this.root._guid,"checkboxes",this.keypath);this.siblings.push(this);if(this.noInitialValue){this.siblings.noInitialValue=true}i=this.siblings.noInitialValue;t=this.root.viewmodel.get(this.keypath);n=this.element.getAttribute("value");if(i){this.isChecked=this.element.getAttribute("checked");if(this.isChecked){t.push(n)}}else{this.isChecked=e(t)?t.indexOf(n)!==-1:t===n}},unbind:function(){t(this.siblings,this)},render:function(){var e=this.element.node;e.name="{{"+this.keypath+"}}";e.checked=this.isChecked;e.addEventListener("change",i,false);if(e.attachEvent){e.addEventListener("click",i,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",i,false);e.removeEventListener("click",i,false)},changed:function(){var e=!!this.isChecked;this.isChecked=this.element.node.checked;return this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked;n.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(o).map(u)}});return s}(o,c,gi,wi,yi);var Ti=function(e,t){var n=e.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",t,false);if(e.attachEvent){e.addEventListener("click",t,false)}},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,false);e.removeEventListener("click",t,false)},getValue:function(){return this.element.node.checked}});return n}(gi,yi);var Ni=function(e,t,n){var r=t.extend({getInitialValue:function(){var e=this.element.options,t,n;n=t=e.length;if(!t){return}while(n--){if(e[n].getAttribute("selected")){return e[n].getAttribute("value")}}while(++n<t){if(!e[n].getAttribute("disabled")){return e[n].getAttribute("value")}}},render:function(){this.element.node.addEventListener("change",n,false)},unrender:function(){this.element.node.removeEventListener("change",n,false)},setValue:function(t){e.addViewmodel(this.root.viewmodel);this.root.viewmodel.set(this.keypath,t)},getValue:function(){var e,t,n,r,i;e=this.element.node.options;n=e.length;for(t=0;t<n;t+=1){r=e[t];if(e[t].selected){i=r._ractive?r._ractive.value:r.value;return i}}},forceUpdate:function(){var t=this;var n=this.getValue();if(n!==undefined){this.attribute.locked=true;e.addViewmodel(this.root.viewmodel);e.scheduleTask(function(){return t.attribute.locked=false});this.root.viewmodel.set(this.keypath,n)}}});return r}(b,gi,yi);var Ci=function(e){return function(t,n){var r;if(!e(t)||!e(n)){return false}if(t.length!==n.length){return false}r=t.length;while(r--){if(t[r]!==n[r]){return false}}return true}}(o);var ki=function(e,t,n,r){var i=n.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",r,false);e=this.root.viewmodel.get(this.keypath);if(e===undefined){this.handleChange()}},unrender:function(){this.element.node.removeEventListener("change",r,false)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,r,i,s;e=[];t=this.element.node.options;r=t.length;for(n=0;n<r;n+=1){i=t[n];if(i.selected){s=i._ractive?i._ractive.value:i.value;e.push(s)}}return e},handleChange:function(){var e,r,i;e=this.attribute;r=e.value;i=this.getValue();if(r===undefined||!t(i,r)){n.prototype.handleChange.call(this)}return this},forceUpdate:function(){var t=this;var n=this.getValue();if(n!==undefined){this.attribute.locked=true;e.addViewmodel(this.root.viewmodel);e.scheduleTask(function(){return t.attribute.locked=false});this.root.viewmodel.set(this.keypath,n)}},updateModel:function(){if(this.attribute.value===undefined||!this.attribute.value.length){this.root.viewmodel.set(this.keypath,this.initialValue)}}});return i}(b,Ci,Ni,yi);var Li=function(e,t){var n=e.extend({render:function(){this.element.node.addEventListener("change",t,false)},unrender:function(){this.element.node.removeEventListener("change",t,false)},getValue:function(){return this.element.node.files}});return n}(gi,yi);var Ai=function(e,t){function i(){var e;t.call(this);e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath,r);this.value=e==undefined?"":e}var n,r;r={evaluateWrapped:true};n=e.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e=this.element.node;e.addEventListener("change",t,false);if(!this.root.lazy){e.addEventListener("input",t,false);if(e.attachEvent){e.addEventListener("keyup",t,false)}}e.addEventListener("blur",i,false)},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,false);e.removeEventListener("input",t,false);e.removeEventListener("keyup",t,false);e.removeEventListener("blur",i,false)}});return n}(gi,yi);var Oi=function(e){return e.extend({getInitialValue:function(){return undefined},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?undefined:e}})}(Ai);var Mi=function(e,t,n,r,i,s,o,u,a,f,l){function c(e){return e&&e.isBindable}return function(p){var d=p.attributes,v,m,g,y;if(p.binding){p.binding.teardown();p.binding=null}if(p.getAttribute("contenteditable")&&c(d.value)){m=t}else if(p.name==="input"){v=p.getAttribute("type");if(v==="radio"||v==="checkbox"){g=c(d.name);y=c(d.checked);if(g&&y){e.error({message:"badRadioInputBinding"})}if(g){m=v==="radio"?r:i}else if(y){m=v==="radio"?n:s}}else if(v==="file"&&c(d.value)){m=a}else if(c(d.value)){m=v==="number"||v==="range"?f:l}}else if(p.name==="select"&&c(d.value)){m=p.getAttribute("multiple")?u:o}else if(p.name==="textarea"&&c(d.value)){m=l}if(m){return new m(p)}}}(Kn,bi,Ei,Si,xi,Ti,Ni,ki,Li,Oi,Ai);var _i=function(t){this.root.fire(this.action.toString().trim(),t)};var Di=function(e){function r(e){this.root.fire.apply(this.root,[this.action.toString().trim(),e].concat(this.params))}function i(e){var t=this.dynamicParams.getValue(n);if(typeof t==="string"){t=t.substr(1,t.length-2)}this.root.fire.apply(this.root,[this.action.toString().trim(),e].concat(t))}var t,n={args:true};e.push(function(){t=e.Fragment});return function(n,s,o){var u;this.element=n;this.root=n.root;this.name=s;this.proxies=[];u=o.n||o;if(typeof u!=="string"){u=new t({template:u,root:this.root,owner:this.element})}this.action=u;if(o.d){this.dynamicParams=new t({template:o.d,root:this.root,owner:this.element});this.fire=i}else if(o.a){this.params=o.a;this.fire=r}}}(i);var Pi=function(t,n,r,i){if(typeof this.action!=="string"){this.action.rebind(t,n,r,i)}if(this.dynamicParams){this.dynamicParams.rebind(t,n,r,i)}};var Hi=function(t){var n,r;n=this._ractive;r=n.events[t.type];r.fire({node:this,original:t,index:n.index,keypath:n.keypath,context:n.root.get(n.keypath)})};var Bi=function(e,t,n){function i(e){if(!r[e]){r[e]=function(t){var n=t.node._ractive;t.index=n.index;t.keypath=n.keypath;t.context=n.root.get(n.keypath);n.events[e].fire(t)}}return r[e]}var r={};return function(){var s=this.name,o;this.node=this.element.node;if(o=t.registries.events.find(this.root,s)){this.custom=o(this.node,i(s))}else{if(!("on"+s in this.node)&&!(window&&"on"+s in window)){e('Missing "'+this.name+'" event. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#events')}this.node.addEventListener(s,n,false)}this.node._ractive.events[s]=this}}(H,zt,Hi);var ji=function(){if(typeof this.action!=="string"){this.action.teardown()}if(this.dynamicParams){this.dynamicParams.teardown()}};var Fi=function(e){return function(){if(this.custom){this.custom.teardown()}else{this.node.removeEventListener(this.name,e,false)}}}(Hi);var Ii=function(e,t,n,r,i,s){var o=function(e,t,n){this.init(e,t,n)};o.prototype={fire:e,init:t,rebind:n,render:r,teardown:i,unrender:s};return o}(_i,Di,Pi,Bi,ji,Fi);var qi=function(e){return function(t,n){var r,i,s,o,u=[];for(i in n){if(n.hasOwnProperty(i)){s=i.split("-");r=s.length;while(r--){o=new e(t,s[r],n[i]);u.push(o)}}}return u}}(Ii);var Ri=function(e,t,n){var r,i,s;t.push(function(){r=t.Fragment});i={args:true};s=function(t,s){var o=this,u,a,f;o.element=t;o.root=u=t.root;a=s.n||s;if(typeof a!=="string"){f=new r({template:a,root:u,owner:t});a=f.toString();f.unbind()}if(s.a){o.params=s.a}else if(s.d){o.fragment=new r({template:s.d,root:u,owner:t});o.params=o.fragment.getValue(i);o.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=true;o.params=this.getValue(i);if(o.ready){o.update()}}}o.fn=n.registries.decorators.find(u,a);if(!o.fn){e.error({debug:u.debug,message:"missingPlugin",args:{plugin:"decorator",name:a}})}};s.prototype={init:function(){var e=this,t,n,r;t=e.element.node;if(e.params){r=[t].concat(e.params);n=e.fn.apply(e.root,r)}else{n=e.fn.call(e.root,t)}if(!n||!n.teardown){throw new Error("Decorator definition must return an object with a teardown method")}e.actual=n;e.ready=true},update:function(){if(this.actual.update){this.actual.update.apply(this.root,this.params)}else{this.actual.teardown(true);this.init()}},teardown:function(e){this.actual.teardown();if(!e&&this.fragment){this.fragment.unbind()}}};return s}(Kn,i,zt);var Ui=function(e){function t(e,t){var n=e.length;while(n--){if(e[n]==t){return true}}}return function(r){var i,s,o,u,a;i=r.node;if(!i){return}u=e(i.options);s=r.getAttribute("value");o=r.getAttribute("multiple");if(s!==undefined){u.forEach(function(e){var n,r;n=e._ractive?e._ractive.value:e.value;r=o?t(s,n):s==n;if(r){a=true}e.selected=r});if(!a){if(u[0]){u[0].selected=true}if(r.binding){r.binding.forceUpdate()}}}else if(r.binding){r.binding.forceUpdate()}}}(Lr);var zi=function(e,t){return function(){var r=this;if(!this.dirty){this.dirty=true;e.scheduleTask(function(){t(r);r.dirty=false})}this.parentFragment.bubble()}}(b,Ui);var Wi=function(t){do{if(t.name==="select"){return t}}while(t=t.parent)};var Xi=function(e){return function(n,r){n.select=e(n.parent);n.select.options.push(n);if(!r.a){r.a={}}if(!r.a.value&&!r.a.hasOwnProperty("disabled")){r.a.value=r.f}if("selected"in r.a&&n.select.getAttribute("value")!==undefined){delete r.a.selected}}}(Wi);var Vi=function(e,t,n,r,i,s,o,u,a){var f;a.push(function(){f=a.Fragment});return function(l){var c,h,p,d,v;this.type=e.ELEMENT;c=this.parentFragment=l.parentFragment;h=this.template=l.template;this.parent=l.pElement||c.pElement;this.root=p=c.root;this.index=l.index;this.name=t(h.e);if(this.name==="option"){u(this,h)}if(this.name==="select"){this.options=[];this.bubble=o}this.attributes=n(this,h.a);if(h.f){this.fragment=new f({template:h.f,root:p,owner:this,pElement:this})}if(p.twoway&&(d=r(this,h.a))){this.binding=d;v=this.root._twowayBindings[d.keypath]||(this.root._twowayBindings[d.keypath]=[]);v.push(d)}if(h.v){this.eventHandlers=i(this,h.v)}if(h.o){this.decorator=new s(this,h.o)}this.intro=h.t0||h.t1;this.outro=h.t0||h.t2}}(R,Xr,vi,Mi,qi,Ri,zi,Xi,i);var $i=function(e){return function(n,r){return n===r||e(n,r)}}($n);var Ji=function(e,t){return function(r,i,s,o){var u=r[i];if(!u||e(u,o)||!e(u,s)){return}r[i]=t(u,s,o)}}($i,Jn);var Ki=function(e){return function(n,r,i,s){function l(e){e.rebind(n,r,i,s)}var o,u,a,f;if(this.attributes){this.attributes.forEach(l)}if(this.eventHandlers){this.eventHandlers.forEach(l)}if(this.fragment){l(this.fragment)}if(a=this.liveQueries){f=this.root;o=a.length;while(o--){a[o]._makeDirty()}}if(this.node&&(u=this.node._ractive)){e(u,"keypath",i,s);if(n!=undefined){u.index[n]=r}}}}(Ji);var Qi=function(t){var n,r,i;if((n=t.getAttribute("width"))||(r=t.getAttribute("height"))){t.node.addEventListener("load",i=function(){if(n){t.node.width=n.value}if(r){t.node.height=r.value}t.node.removeEventListener("load",i,false)},false)}};var Gi=function(e,t,n){var r,i={};n.push(function(){r=n.Fragment});return function(s,o,u){var a=this,f,l,c;a.element=s;a.root=f=s.root;a.isIntro=u;l=o.n||o;if(typeof l!=="string"){c=new r({template:l,root:f,owner:s});l=c.toString();c.unbind()}a.name=l;if(o.a){a.params=o.a}else if(o.d){c=new r({template:o.d,root:f,owner:s});a.params=c.getValue(i);c.unbind()}a._fn=t.registries.transitions.find(f,l);if(!a._fn){e.error({debug:f.debug,message:"missingPlugin",args:{plugin:"transition",name:l}});return}}}(Kn,zt,i);var Yi=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};var Zi=function(e,t,n,r){var i,s,o;if(!e){i=null}else{s={};o=n("div").style;i=function(e){var n,i,u;e=r(e);if(!s[e]){if(o[e]!==undefined){s[e]=e}else{u=e.charAt(0).toUpperCase()+e.substring(1);n=t.length;while(n--){i=t[n];if(o[i+u]!==undefined){s[e]=i+u;break}}}}return s[e]}}return i}(N,M,T,Yi);var es=function(e,t,n,r){var i,s;if(!t){i=null}else{s=window.getComputedStyle||e.getComputedStyle;i=function(e){var t,i,o,u,a;t=s(this.node);if(typeof e==="string"){a=t[r(e)];if(a==="0px"){a=0}return a}if(!n(e)){throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties")}i={};o=e.length;while(o--){u=e[o];a=t[r(u)];if(a==="0px"){a=0}i[u]=a}return i}}return i}(yt,N,o,Zi);var ts=function(e){return function(t,n){var r;if(typeof t==="string"){this.node.style[e(t)]=n}else{for(r in t){if(t.hasOwnProperty(r)){this.node.style[e(r)]=t[r]}}}return this}}(Zi);var ns=function(e,t,n){function i(e){return e}var r=function(r){var s;this.duration=r.duration;this.step=r.step;this.complete=r.complete;if(typeof r.easing==="string"){s=r.root.easing[r.easing];if(!s){e('Missing easing function ("'+r.easing+'"). You may need to download a plugin from [TODO]');s=i}}else if(typeof r.easing==="function"){s=r.easing}else{s=i}this.easing=s;this.start=t();this.end=this.start+this.duration;this.running=true;n.add(this)};r.prototype={tick:function(e){var t,n;if(!this.running){return false}if(e>this.end){if(this.step){this.step(1)}if(this.complete){this.complete(1)}return false}t=e-this.start;n=this.easing(t/this.duration);if(this.step){this.step(n)}return true},stop:function(){if(this.abort){this.abort()}this.running=false}};return r}(H,D,P);var rs=function(e){var t=new RegExp("^-(?:"+e.join("|")+")-");return function(e){return e.replace(t,"")}}(M);var is=function(e){var t=new RegExp("^(?:"+e.join("|")+")([A-Z])");return function(e){var n;if(!e){return""}if(t.test(e)){e="-"+e}n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return n}}(M);var ss=function(e,t,n,r,i,s,o,u,a){var f,l,c,h,p,d,v,m,g={},y={};if(!e){f=null}else{l=n("div").style;(function(){if(l.transition!==undefined){c="transition";h="transitionend";p=true}else if(l.webkitTransition!==undefined){c="webkitTransition";h="webkitTransitionEnd";p=true}else{p=false}})();if(c){d=c+"Duration";v=c+"Property";m=c+"TimingFunction"}f=function(e,n,f,l,c){setTimeout(function(){var b,w,E,S,x;S=function(){if(w&&E){e.root.fire(e.name+":end",e.node,e.isIntro);c()}};b=(e.node.namespaceURI||"")+e.node.tagName;e.node.style[v]=l.map(o).map(a).join(",");e.node.style[m]=a(f.easing||"linear");e.node.style[d]=f.duration/1e3+"s";x=function(t){var n;n=l.indexOf(r(u(t.propertyName)));if(n!==-1){l.splice(n,1)}if(l.length){return}e.node.removeEventListener(h,x,false);E=true;S()};e.node.addEventListener(h,x,false);setTimeout(function(){var u=l.length,a,c,d,v=[],m,T;while(u--){m=l[u];a=b+m;if(p&&!y[a]){e.node.style[o(m)]=n[m];if(!g[a]){c=e.getStyle(m);g[a]=e.getStyle(m)!=n[m];y[a]=!g[a];if(y[a]){e.node.style[o(m)]=c}}}if(!p||y[a]){if(c===undefined){c=e.getStyle(m)}d=l.indexOf(m);if(d===-1){t("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!")}else{l.splice(d,1)}T=/[^\d]*$/.exec(n[m])[0];v.push({name:o(m),interpolator:i(parseFloat(c),parseFloat(n[m])),suffix:T})}}if(v.length){new s({root:e.root,duration:f.duration,easing:r(f.easing||""),step:function(t){var n,r;r=v.length;while(r--){n=v[r];e.node.style[n.name]=n.interpolator(t)+n.suffix}},complete:function(){w=true;S()}})}else{w=true}if(!l.length){e.node.removeEventListener(h,x,false);E=true;S()}},0)},f.delay||0)}}return f}(N,H,T,Yi,Wt,ns,Zi,rs,is);var os=function(e){function o(){s.hidden=document[t]}function u(){s.hidden=true}function a(){s.hidden=false}var t,n,r,i,s;if(typeof document!=="undefined"){t="hidden";s={};if(t in document){r=""}else{i=e.length;while(i--){n=e[i];t=n+"Hidden";if(t in document){r=n}}}if(r!==undefined){document.addEventListener(r+"visibilitychange",o);o()}else{if("onfocusout"in document){document.addEventListener("focusout",u);document.addEventListener("focusin",a)}else{window.addEventListener("pagehide",u);window.addEventListener("blur",u);window.addEventListener("pageshow",a);window.addEventListener("focus",a)}s.hidden=false}}return s}(M);var us=function(e,t,n,r,i,s,o){var u,a,f;if(!t){u=null}else{a=window.getComputedStyle||e.getComputedStyle;u=function(e,t,u,l){var c=this,h;if(o.hidden){this.setStyle(e,t);return f||(f=r.resolve())}if(typeof e==="string"){h={};h[e]=t}else{h=e;l=u;u=t}if(!u){n('The "'+c.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340');u=c;l=c.complete}var p=new r(function(e){var t,n,r,o,f,l,p;if(!u.duration){c.setStyle(h);e();return}t=Object.keys(h);n=[];r=a(c.node);f={};l=t.length;while(l--){p=t[l];o=r[i(p)];if(o==="0px"){o=0}if(o!=h[p]){n.push(p);c.node.style[i(p)]=o}}if(!n.length){e();return}s(c,h,u,n,e)});if(l){n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)");p.then(l)}return p}}return u}(yt,N,H,h,Zi,ss,os);var as=function(e,t){var n;for(n in t){if(t.hasOwnProperty(n)&&!(n in e)){e[n]=t[n]}}return e};var fs=function(e){return function(t,n){if(typeof t==="number"){t={duration:t}}else if(typeof t==="string"){if(t==="slow"){t={duration:600}}else if(t==="fast"){t={duration:200}}else{t={duration:400}}}else if(!t){t={}}return e(t,n)}}(as);var ls=function(){function e(e,t){if(t){e.setAttribute("style",t)}else{e.getAttribute("style");e.removeAttribute("style")}}return function(){var n=this,r,i;r=n.node=n.element.node;i=r.getAttribute("style");n.complete=function(t){if(!t&&n.isIntro){e(r,i)}r._ractive.transition=null;n._manager.remove(n)};if(!n._fn){n.complete();return}n._fn.apply(n.root,[n].concat(n.params))}}();var cs=function(e,t,n,r,i,s,o){var u,a;o.push(function(){u=o.Fragment});a=function(e,t,n){this.init(e,t,n)};a.prototype={init:e,start:s,getStyle:t,setStyle:n,animateStyle:r,processParams:i};return a}(Gi,es,ts,us,fs,ls,i);var hs=function(e,t,n,r,i,s,o,u,a,f,l){function p(t){var n,r,i;if(r=t.getAttribute("xmlns")){n=r}else if(t.name==="svg"){n=e.svg}else if(i=t.parent){if(i.name==="foreignObject"){n=e.html}else{n=i.node.namespaceURI}}else{n=t.root.el.namespaceURI}return n}function d(e){var n,r,i;r=e.select.getAttribute("value");if(r===undefined){return}n=e.getAttribute("value");if(e.select.node.multiple&&t(r)){i=r.length;while(i--){if(n==r[i]){e.node.selected=true;break}}}else{e.node.selected=n==r}}function v(e){var t,n,r,i,s;t=e.root;do{n=t._liveQueries;r=n.length;while(r--){i=n[r];s=n["_"+i];if(s._test(e)){(e.liveQueries||(e.liveQueries=[])).push(s)}}}while(t=t._parent)}var c,h;c=function(){var e=this.node,t=this.fragment.toString(false);if(e.styleSheet){e.styleSheet.cssText=t}else{while(e.hasChildNodes()){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(t))}};h=function(){if(!this.node.type||this.node.type==="text/javascript"){n("Script tag was updated. This does not cause the code to be re-evaluated!")}this.node.text=this.fragment.toString(false)};return function(){var t=this;var n=this.root,m,g;m=p(this);g=this.node=i(this.name,m);if(n.constructor.css&&this.parentFragment.getNode()===n.el){this.node.setAttribute("data-rvcguid",n.constructor._guid)}s(this.node,"_ractive",{value:{proxy:this,keypath:a(this.parentFragment),index:this.parentFragment.indexRefs,events:r(null),root:n}});this.attributes.forEach(function(e){return e.render(g)});if(this.fragment){if(this.name==="script"){this.bubble=h;this.node.text=this.fragment.toString(false);this.fragment.unrender=o}else if(this.name==="style"){this.bubble=c;this.bubble();this.fragment.unrender=o}else if(this.binding&&this.getAttribute("contenteditable")){this.fragment.unrender=o}else{this.node.appendChild(this.fragment.render())}}if(this.eventHandlers){this.eventHandlers.forEach(function(e){return e.render()})}if(this.binding){this.binding.render();this.node._ractive.binding=this.binding}if(this.name==="img"){f(this)}if(this.decorator&&this.decorator.fn){u.scheduleTask(function(){t.decorator.init()})}if(n.transitionsEnabled&&this.intro){var y=new l(this,this.intro,true);u.registerTransition(y);u.scheduleTask(function(){return y.start()})}if(this.name==="option"){d(this)}if(this.node.autofocus){u.scheduleTask(function(){return t.node.focus()})}v(this);return this.node}}(x,o,H,U,T,C,qt,b,d,Qi,cs);var ps=function(e,t){function n(e){var n,r,i;n=e.getAttribute("value");if(n===undefined){return false}r=e.select.getAttribute("value");if(r==n){return true}if(e.select.getAttribute("multiple")&&t(r)){i=r.length;while(i--){if(r[i]==n){return true}}}}function r(e){var t,n,r,i;t=e.attributes;n=t.type;r=t.value;i=t.name;if(!n||n.value!=="radio"||!r||!i.interpolator){return}if(r.value===i.interpolator.value){return true}}function i(e){var t=e.toString();return t?" "+t:""}return function(){var t,s;t="<"+(this.template.y?"!DOCTYPE":this.template.e);t+=this.attributes.map(i).join("");if(this.name==="option"&&n(this)){t+=" selected"}if(this.name==="input"&&r(this)){t+=" checked"}t+=">";if(this.fragment){s=this.name!=="script"&&this.name!=="style";t+=this.fragment.toString(s)}if(!e.test(this.template.e)){t+="</"+this.template.e+">"}return t}}(St,o);var ds=function(e){return function(n){e(n.select.options,n)}}(c);var vs=function(e){function t(e){e.unbind()}return function(){if(this.fragment){this.fragment.unbind()}if(this.binding){this.binding.unbind()}if(this.name==="option"){e(this)}this.attributes.forEach(t)}}(ds);var ms=function(e,t){function n(e){var t,n,r;r=e.liveQueries.length;while(r--){t=e.liveQueries[r];n=t.selector;t._remove(e.node)}}return function(i){var s,o;if(this.name==="option"){this.detach()}else if(i){e.detachWhenReady(this)}if(this.fragment){this.fragment.unrender(false)}if(s=this.binding){this.binding.unrender();this.node._ractive.binding=null;o=this.root._twowayBindings[s.keypath];o.splice(o.indexOf(s),1)}if(this.eventHandlers){this.eventHandlers.forEach(function(e){return e.unrender()})}if(this.decorator){this.decorator.teardown()}if(this.root.transitionsEnabled&&this.outro){var u=new t(this,this.outro,false);e.registerTransition(u);e.scheduleTask(function(){return u.start()})}if(this.liveQueries){n(this)}}}(b,cs);var gs=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){var v=function(e){this.init(e)};v.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:s,findNextNode:o,firstNode:u,getAttribute:a,init:f,rebind:l,render:c,toString:h,unbind:p,unrender:d};return v}(Br,jr,Fr,Ir,qr,Rr,Ur,zr,Wr,Vi,Ki,hs,ps,vs,ms);var ys=function(){function n(e,n){var r=t.exec(n)[0];if(e===null||r.length<e.length){return r}return e}var e=/^\s*$/,t=/^\s*/;return function(t){var r,i,s,o;r=t.split("\n");i=r[0];if(i!==undefined&&e.test(i)){r.shift()}s=r[r.length-1];if(s!==undefined&&e.test(s)){r.pop()}o=r.reduce(n,null);if(o){t=r.map(function(e){return e.replace(o,"")}).join("\n")}return t}}();var bs=function(e,t,n,r){function i(r,i){var s=t.registries.partials;var o=s.findInstance(r,i);if(!o){return}var u=o.partials[i],a;if(typeof u==="function"){a=u.bind(o);a.isOwner=o.partials.hasOwnProperty(i);u=a(o.data,n)}if(!u){e.warn({debug:r.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:i}});return}if(!n.isParsed(u)){var f=n.parse(u,n.getParseOptions(o));if(f.p){e.warn({debug:r.debug,message:"noNestedPartials",args:{rname:i}})}var l=a?o:s.findOwner(o,i);l.partials[i]=u=f.t}if(a){u._fn=a}return u.v?u.t:u}return function(s,o){var u;if(u=i(s,o)){return u}u=n.fromId(o,{noThrow:true});if(u){u=r(u);var a=n.parse(u,n.getParseOptions(s));return s.partials[o]=a.t}e.error({debug:s.debug,message:"noTemplateForPartial",args:{name:o}});return[]}}(Kn,zt,Bt,ys);var ws=function(e,t){var n;if(!t){return e}n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n");return n};var Es=function(e,t,n,r){var i,s;r.push(function(){s=r.Fragment});i=function(n){var r=this.parentFragment=n.parentFragment,i;this.type=e.PARTIAL;this.name=n.template.r;this.index=n.index;this.root=r.root;if(!n.template.r){throw new Error("Partials must have a static reference (no expressions). This may change in a future version of Ractive.")}i=t(r.root,n.template.r);this.fragment=new s({template:i,root:r.root,owner:this,pElement:r.pElement})};i.prototype={bubble:function(){this.parentFragment.bubble()},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},detach:function(){return this.fragment.detach()},render:function(){return this.fragment.render()},unrender:function(e){this.fragment.unrender(e)},rebind:function(e,t,n,r){return this.fragment.rebind(e,t,n,r)},unbind:function(){this.fragment.unbind()},toString:function(t){var r,i,s,o;r=this.fragment.toString(t);i=this.parentFragment.items[this.index-1];if(!i||i.type!==e.TEXT){return r}s=i.template.split("\n").pop();if(o=/^\s+$/.exec(s)){return n(r,o[0])}return r},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},getValue:function(){return this.fragment.getValue()}};return i}(R,bs,ws,i);var Ss=function(e,t,n){var r;n.push(function(){r=n.Ractive});return function i(n,r){var s,o=e.registries.components.findInstance(n,r);if(o){s=o.components[r];if(!s._parent){var u=s.bind(o);u.isOwner=o.components.hasOwnProperty(r);s=u(o.data);if(!s){t.warn({debug:n.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:r}});return}if(typeof s==="string"){s=i(n,s)}s._fn=u;o.components[r]=s}}return s}}(zt,Kn,i);var xs=function(){return this.instance.fragment.detach()};var Ts=function(t){return this.instance.fragment.find(t)};var Ns=function(t,n){return this.instance.fragment.findAll(t,n)};var Cs=function(t,n){n._test(this,true);if(this.instance.fragment){this.instance.fragment.findAllComponents(t,n)}};var ks=function(t){if(!t||t===this.name){return this.instance}if(this.instance.fragment){return this.instance.fragment.findComponent(t)}return null};var Ls=function(){return this.parentFragment.findNextNode(this)};var As=function(){if(this.rendered){return this.instance.fragment.firstNode()}return null};var Os=function(e,t){var n,r;t.push(function(){n=t.Fragment});r=function(e,t,r){this.parentFragment=e.parentFragment;this.component=e;this.key=t;this.fragment=new n({template:r,root:e.root,owner:this});this.value=this.fragment.getValue()};r.prototype={bubble:function(){if(!this.dirty){this.dirty=true;e.addView(this)}},update:function(){var t=this.fragment.getValue();this.component.instance.viewmodel.set(this.key,t);e.addViewmodel(this.component.instance.viewmodel);this.value=t;this.dirty=false},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},unbind:function(){this.fragment.unbind()}};return r}(b,i);var Ms=function(e,t,n,r){function i(i,s,o,u){var a,f,l,c,h,p;l=i.root;c=i.parentFragment;if(typeof o==="string"){f=t(o);if(!f){return o}return f.value}if(o===null){return true}if(o.length===1&&o[0].t===e.INTERPOLATOR&&o[0].r){if(c.indexRefs&&c.indexRefs[p=o[0].r]!==undefined){i.indexRefBindings[p]=s;return c.indexRefs[p]}h=n(l,o[0].r,c)||o[0].r;u.push({childKeypath:s,parentKeypath:h});return l.viewmodel.get(h)}a=new r(i,s,o);i.complexParameters.push(a);return a.value}return function(e,t,n,r){var s={},o,u;e.complexParameters=[];for(o in n){if(n.hasOwnProperty(o)){u=i(e,o,n[o],r);if(u!==undefined||t[o]===undefined){s[o]=u}}}return s}}(R,Lt,g,Os);var _s=function(e,t,n,r){var i,s,o,u;s=e.parentFragment;u=e.root;o={content:r||[]};i=new t({append:true,data:n,partials:o,magic:u.magic||t.defaults.magic,modifyArrays:u.modifyArrays,_parent:u,_component:e,adapt:u.adapt});return i};var Ds=function(e){return function(n,r){r.forEach(function(r){var i,s;e(n,n.root,r.parentKeypath,r.childKeypath);i=n.instance.viewmodel.get(r.childKeypath);s=n.root.viewmodel.get(r.parentKeypath);if(i!==undefined&&s===undefined){n.root.viewmodel.set(r.parentKeypath,i)}})}}(m);var Ps=function(e){function t(t,n,r,i){if(typeof i!=="string"){e.error({debug:n.debug,message:"noComponentEventArguments"})}t.on(r,function(){var e=Array.prototype.slice.call(arguments);e.unshift(i);n.fire.apply(n,e)})}return function(e,n){var r;for(r in n){if(n.hasOwnProperty(r)){t(e.instance,e.root,r,n[r])}}}}(Kn);var Hs=function(e){var t,n;t=e.root;while(t){if(n=t._liveComponentQueries["_"+e.name]){n.push(e.instance)}t=t._parent}};var Bs=function(e,t,n,r,i,s,o){return function(a,f){var l,c,h,p;l=this.parentFragment=a.parentFragment;c=l.root;this.root=c;this.type=e.COMPONENT;this.name=a.template.e;this.index=a.index;this.indexRefBindings={};this.bindings=[];if(!f){throw new Error('Component "'+this.name+'" not found')}p=[];h=n(this,f.defaults.data||{},a.template.a,p);r(this,f,h,a.template.f);i(this,p);s(this,a.template.v);if(a.template.t1||a.template.t2||a.template.o){t('The "intro", "outro" and "decorator" directives have no effect on components')}o(this)}}(R,H,Ms,_s,Ds,Ps,Hs);var js=function(e,t){return function(r,i,s,o){var u=this.instance,a=u._parent,f,l;this.bindings.forEach(function(e){var n;if(e.root!==a){return}if(n=t(e.keypath,s,o)){e.rebind(n)}});this.complexParameters.forEach(function(e){e.rebind(r,i,s,o)});if(f=this.indexRefBindings[r]){e.addViewmodel(u.viewmodel);u.viewmodel.set(f,i)}if(l=this.root._liveComponentQueries["_"+this.name]){l._makeDirty()}}}(b,Jn);var Fs=function(){var t=this.instance;t.render(this.parentFragment.getNode());this.rendered=true;return t.detach()};var Is=function(){return this.instance.fragment.toString()};var qs=function(){function e(e){e.unbind()}function t(e){var t,n;t=e.root;do{if(n=t._liveComponentQueries["_"+e.name]){n._remove(e)}}while(t=t._parent)}return function(){this.complexParameters.forEach(e);this.bindings.forEach(e);t(this);this.instance.fragment.unbind()}}();var Rs=function(t){this.instance.fire("teardown");this.shouldDestroy=t;this.instance.unrender()};var Us=function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=function(e,t){this.init(e,t)};p.prototype={detach:e,find:t,findAll:n,findAllComponents:r,findComponent:i,findNextNode:s,firstNode:o,init:u,rebind:a,render:f,toString:l,unbind:c,unrender:h};return p}(xs,Ts,Ns,Cs,ks,Ls,As,Bs,js,Fs,Is,qs,Rs);var zs=function(e,t){var n=function(t){this.type=e.COMMENT;this.value=t.template.c};n.prototype={detach:t,firstNode:function(){return this.node},render:function(){if(!this.node){this.node=document.createComment(this.value)}return this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){if(e){this.node.parentNode.removeChild(this.node)}}};return n}(R,Un);var Ws=function(e,t,n,r,i,s,o,u,a,f){return function(c){if(typeof c.template==="string"){return new t(c)}switch(c.template.t){case e.INTERPOLATOR:return new n(c);case e.SECTION:return new r(c);case e.TRIPLE:return new i(c);case e.ELEMENT:var h;if(h=u(c.parentFragment.root,c.template.e)){return new a(c,h)}return new s(c);case e.PARTIAL:return new o(c);case e.COMMENT:return new f(c);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}(R,zn,sr,Sr,Hr,gs,Es,Ss,Us,zs);var Xs=function(e,t,n){return function(i){var s=this;var o,u,a;this.owner=i.owner;o=this.parent=this.owner.parentFragment;this.root=i.root;this.pElement=i.pElement;this.context=i.context;if(this.owner.type===e.SECTION){this.index=i.index}if(o){u=o.indexRefs;if(u){this.indexRefs=t(null);for(a in u){this.indexRefs[a]=u[a]}}}this.priority=o?o.priority+1:1;if(i.indexRef){if(!this.indexRefs){this.indexRefs={}}this.indexRefs[i.indexRef]=i.index}if(typeof i.template==="string"){i.template=[i.template]}else if(!i.template){i.template=[]}this.items=i.template.map(function(e,t){return n({parentFragment:s,pElement:i.pElement,template:e,index:t})});this.value=this.argsList=null;this.dirtyArgs=this.dirtyValue=true;this.inited=true}}(R,U,Ws);var Vs=function(e){return function(n,r,i,s){e(this,"context",i,s);if(this.indexRefs&&this.indexRefs[n]!==undefined){this.indexRefs[n]=r}this.items.forEach(function(e){if(e.rebind){e.rebind(n,r,i,s)}})}}(Ji);var $s=function(){var t;if(this.items.length===1){t=this.items[0].render()}else{t=document.createDocumentFragment();this.items.forEach(function(e){t.appendChild(e.render())})}this.rendered=true;return t};var Js=function(t){if(!this.items){return""}return this.items.map(function(e){return e.toString(t)}).join("")};var Ks=function(){function e(e){if(e.unbind){e.unbind()}}return function(){this.items.forEach(e)}}();var Qs=function(t){if(!this.rendered){throw new Error("Attempted to unrender a fragment that was not rendered")}this.items.forEach(function(e){return e.unrender(t)})};var Gs=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){var g=function(e){this.init(e)};g.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:s,findNextNode:o,firstNode:u,getNode:a,getValue:f,init:l,rebind:c,render:h,toString:p,unbind:d,unrender:v};m.Fragment=g;return g}(On,Mn,_n,Dn,Pn,Hn,Bn,jn,Fn,In,Xs,Vs,$s,Js,Ks,Qs,i);var Ys=function(e,t,n){var r=["template","partials","components","decorators","events"];return function(s,o){var u,a,f,l,c;if(typeof s==="function"&&!o){o=s;s={}}else{s=s||{}}if(typeof s!=="object"){throw new Error("The reset method takes either no arguments, or an object containing new data")}if((a=this.viewmodel.wrapped[""])&&a.reset){if(a.reset(s)===false){this.data=s}}else{this.data=s}f=n.reset(this);l=f.length;while(l--){if(r.indexOf(f[l])>-1){c=true;break}}if(c){var h;this.viewmodel.mark("");if(h=this.component){h.shouldDestroy=true}this.unrender();if(h){h.shouldDestroy=false}if(this.fragment.template!==this.template){this.fragment.unbind();this.fragment=new t({template:this.template,root:this,owner:this})}u=this.render(this.el,this.anchor)}else{u=e.start(this,true);this.viewmodel.mark("");e.end()}this.fire("reset",s);if(o){u.then(o)}return u}}(b,Gs,zt);var Zs=function(e,t){return function(r){var i,s;e.template.init(null,this,{template:r});i=this.transitionsEnabled;this.transitionsEnabled=false;if(s=this.component){s.shouldDestroy=true}this.unrender();if(s){s.shouldDestroy=false}this.fragment.unbind();this.fragment=new t({template:this.template,root:this,owner:this});this.render(this.el,this.anchor);this.transitionsEnabled=i}}(zt,Gs);var eo=function(e){return e("reverse")}(Nn);var to=function(e,t,n,r){var i=/\*/;return function(o,u,a){var f=this;var l,c;c=e.start(this,true);if(t(o)){l=o;a=u;for(o in l){if(l.hasOwnProperty(o)){u=l[o];o=n(o);this.viewmodel.set(o,u)}}}else{o=n(o);if(i.test(o)){r(this,o).forEach(function(e){f.viewmodel.set(e,u)})}else{this.viewmodel.set(o,u)}}e.end();if(a){c.then(a.bind(this))}return c}}(b,u,O,dn);var no=function(e){return e("shift")}(Nn);var ro=function(e){return e("sort")}(Nn);var io=function(e){return e("splice")}(Nn);var so=function(e){return function(n,r){return e(this,n,r===undefined?-1:-r)}}(L);var oo=function(e){return function(n){var r;this.fire("teardown");this.fragment.unbind();this.viewmodel.teardown();r=this.rendered?this.unrender():e.resolve();if(n){r.then(n.bind(this))}return r}}(h);var uo=function(e){return function(n,r){var i;if(typeof n!=="string"){e.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:n}})}i=this.get(n);return this.set(n,!i,r)}}(Kn);var ao=function(){return this.fragment.toString(true)};var fo=function(e,t,n){return function(){var i=this;var s,o;if(!this.rendered){throw new Error("ractive.unrender() was called on a Ractive instance that was not rendered")}s=t.start(this,true);o=!this.component||this.component.shouldDestroy;o=o||this.shouldDestroy;if(this.constructor.css){s.then(function(){n.remove(i.constructor)})}while(this._animations[0]){this._animations[0].stop()}this.fragment.unrender(o);this.rendered=false;e(this.el.__ractive_instances__,this);t.end();return s}}(c,b,Ln);var lo=function(e){return e("unshift")}(Nn);var co=function(e){return function(n,r){var i;if(typeof n==="function"){r=n;n=""}else{n=n||""}i=e.start(this,true);this.viewmodel.mark(n);e.end();this.fire("update",n);if(r){i.then(r.bind(this))}return i}}(b);var ho=function(e,t){function n(r,i,s,o){var u,a,f,l,c,h,p=[];u=r._twowayBindings[i];if(u&&(f=u.length)){while(f--){l=u[f];if(l.radioName&&!l.element.node.checked){continue}if(l.checkboxName){if(!p[l.keypath]&&!l.changed()){p.push(l.keypath);p[l.keypath]=l}continue}c=l.attribute.value;h=l.getValue();if(e(c,h)){continue}if(!t(c,h)){s[i]=h}}}if(p.length){p.forEach(function(t){var n,r,i;n=p[t];r=n.attribute.value;i=n.getValue();if(!e(r,i)){s[t]=i}})}if(!o){return}a=r.viewmodel.depsMap["default"][i];if(a){f=a.length;while(f--){n(r,a[f],s,o)}}}return function(t,r){var i;if(typeof t!=="string"){t="";r=true}n(this,t,i={},r);return this.set(i)}}(Ci,v);var po=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M){return{add:e,animate:t,detach:n,find:r,findAll:i,findAllComponents:s,findComponent:o,fire:u,get:a,insert:f,merge:l,observe:c,off:h,on:p,pop:d,push:v,render:m,reset:g,resetTemplate:y,reverse:b,set:w,shift:E,sort:S,splice:x,subtract:T,teardown:N,toggle:C,toHTML:k,unrender:L,unshift:A,update:O,updateModel:M}}(A,Vt,$t,Jt,sn,on,un,an,fn,cn,hn,yn,En,Sn,Cn,kn,An,Ys,Zs,eo,to,no,ro,io,so,oo,uo,ao,fo,lo,co,ho);var vo=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;t=Math.random()*16|0;n=e=="x"?t:t&3|8;return n.toString(16)})};var mo=function(){var e=0;return function(){return"r-"+e++}}();var go=function(e,t,n,r){var i=e.root,s=e.keypath;if(n==="sort"||n==="reverse"){i.viewmodel.set(s,t);return}if(!r){return}i.viewmodel.splice(s,r)};var yo=function(e,t,n,r,i){var s=[],o=["pop","push","reverse","shift","sort","splice","unshift"],u,a,f;o.forEach(function(o){var u=function(){var t,s,u,a,f;t=n(this,o,Array.prototype.slice.call(arguments));s=r(this,t);u=Array.prototype[o].apply(this,arguments);this._ractive.setting=true;f=this._ractive.wrappers.length;while(f--){a=this._ractive.wrappers[f];e.start(a.root);i(a,this,o,s);e.end()}this._ractive.setting=false;return u};t(s,o,{value:u})});u={};if(u.__proto__){a=function(e){e.__proto__=s};f=function(e){e.__proto__=Array.prototype}}else{a=function(e){var n,r;n=o.length;while(n--){r=o[n];t(e,r,{value:s[r],configurable:true})}};f=function(e){var t;t=o.length;while(t--){delete e[o[t]]}}}a.unpatch=f;return a}(b,C,xn,Tn,go);var bo=function(e,t,n){var r,i,s;r={filter:function(e){return t(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new i(e,t,n)}};i=function(t,r,i){this.root=t;this.value=r;this.keypath=i;if(!r._ractive){e(r,"_ractive",{value:{wrappers:[],instances:[],setting:false},configurable:true});n(r)}if(!r._ractive.instances[t._guid]){r._ractive.instances[t._guid]=0;r._ractive.instances.push(t)}r._ractive.instances[t._guid]+=1;r._ractive.wrappers.push(this)};i.prototype={get:function(){return this.value},teardown:function(){var e,t,r,i,o;e=this.value;t=e._ractive;r=t.wrappers;i=t.instances;if(t.setting){return false}o=r.indexOf(this);if(o===-1){throw new Error(s)}r.splice(o,1);if(!r.length){delete e._ractive;n.unpatch(this.value)}else{i[this.root._guid]-=1;if(!i[this.root._guid]){o=i.indexOf(this.root);if(o===-1){throw new Error(s)}i.splice(o,1)}}}};s="Something went wrong in a rather interesting way";return r}(C,o,yo);var wo=function(e,t){var n,r;if(e){n={filter:function(n,r,i){return e.filter(n,r,i)&&t.filter(n)},wrap:function(e,t,n){return new r(e,t,n)}};r=function(n,r,i){this.value=r;this.magic=true;this.magicWrapper=e.wrap(n,r,i);this.arrayWrapper=t.wrap(n,r,i)};r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown();this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}}}return n}(E,bo);var Eo=function(e,t,n,r){function s(e,t){var n={},r;if(!t){return e}t+=".";for(r in e){if(e.hasOwnProperty(r)){n[t+r]=e[r]}}return n}function o(e){var t;if(!i[e]){t=e?e+".":"";i[e]=function(n,r){var i;if(typeof n==="string"){i={};i[t+n]=r;return i}if(typeof n==="object"){return t?s(n,e):n}}}return i[e]}var i={};return function(s,u){var a=this.ractive,f,l,c,h;f=a.adapt.length;for(l=0;l<f;l+=1){c=a.adapt[l];if(typeof c==="string"){var p=e.registries.adaptors.find(a,c);if(!p){throw new Error('Missing adaptor "'+c+'"')}c=a.adapt[l]=p}if(c.filter(u,s,a)){h=this.wrapped[s]=c.wrap(a,u,s,o(s));h.value=u;return u}}if(a.magic){if(r.filter(u,s,a)){this.wrapped[s]=r.wrap(a,u,s)}else if(n.filter(u,s,a)){this.wrapped[s]=n.wrap(a,u,s)}}else if(a.modifyArrays&&t.filter(u,s,a)){this.wrapped[s]=t.wrap(a,u,s)}return u}}(zt,bo,E,wo);var So=function(t){var n=[""],r,i,s,o;r=t.length;while(r--){i=t[r];s=i.split(".");while(s.length>1){s.pop();o=s.join(".");if(n.indexOf(o)===-1){n.push(o)}}}return n};var xo=function(){function t(t){var n="",r,i,s,o,u;if(!e[t]){s=[];while(n.length<t){n+=1}r=parseInt(n,2);o=function(e){return e==="1"};for(u=0;u<=r;u+=1){i=u.toString(2);while(i.length<t){i="0"+i}s[u]=Array.prototype.map.call(i,o)}e[t]=s}return e[t]}var e={};return function(n){var r,i,s,o;r=n.split(".");i=t(r.length);s=function(e,t){return e?"*":r[t]};o=i.map(function(e){return e.map(s).join(".")});return o}}();var To=function(e){function n(t,n,s){var o;i(t,n);if(s){return}o=e(n);o.forEach(function(e){r(t,e,n)})}function r(e,n,s){var o,u,a;o=e.depsMap.patternObservers;u=o[n];if(u){u.forEach(function(n){var o=t.exec(n)[0];a=s?s+"."+o:o;i(e,a);r(e,n,a)})}}function i(e,t){e.patternObservers.forEach(function(e){if(e.regex.test(t)){e.update(t)}})}var t=/[^\.]+$/;return n}(xo);var No=function(e,t){function r(e){e.update()}function i(e,t,n){var r,i;if(r=o(e,t,n)){i=e.get(t);r.forEach(function(e){return e.setValue(i)})}}function s(e,t,n){function i(e){e.forEach(s);e.forEach(u)}function s(t){var i=o(e,t,n);if(i){r.push({keypath:t,deps:i})}}function u(t){var r;if(r=e.depsMap[n][t]){i(r)}}function a(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})}var r=[];i(t);r.forEach(a)}function o(e,t,n){var r=e.deps[n];return r?r[t]:null}function u(e,t){t.forEach(function(t){if(e.indexOf(t)===-1){e.push(t)}})}var n=["observers","default"];return function(){var a=this;var f=this,l,c,h=[],p,d,v,m={};if(!this.changes.length){return}d=function(e){var t;if(t=f.deps.computed[e]){u(p,t)}};v=function(e){var t;d(e);if(t=f.depsMap.computed[e]){t.forEach(v)}};do{l=this.changes;u(h,l);this.changes=[];p=[];c=e(l);c.forEach(d);l.forEach(v);p.forEach(r)}while(this.changes.length);c=e(h);if(this.patternObservers.length){c.forEach(function(e){return t(a,e,true)});h.forEach(function(e){return t(a,e)})}n.forEach(function(e){if(!a.deps[e]){return}c.forEach(function(t){return i(a,t,e)});s(a,h,e)});h.forEach(function(e){m[e]=a.get(e)});this.implicitChanges={};return m}}(So,To);var Co=function(){this.capturing=true;this.captured=[]};var ko=function(t,n){var r,i,s;if(!n){if(i=this.wrapped[t]){if(i.teardown()!==false){this.wrapped[t]=null}}}if(s=this.computations[t]){s.compute()}this.cache[t]=undefined;if(r=this.cacheMap[t]){while(r.length){this.clearCache(r.pop())}}};var Lo={FAILED_LOOKUP:true};var Ao=function(e,t){var n={};var r=function(e,r){this.viewmodel=e;this.root=e.ractive;this.ref=r;this.parentFragment=n;e.unresolvedImplicitDependencies[r]=true;e.unresolvedImplicitDependencies.push(this);t.addUnresolved(this)};r.prototype={resolve:function(){this.viewmodel.mark(this.ref);this.viewmodel.unresolvedImplicitDependencies[this.ref]=false;e(this.viewmodel.unresolvedImplicitDependencies,this)},teardown:function(){t.removeUnresolved(this)}};return r}(c,b);var Oo=function(e,t){function r(t,n){var r,i,s,o,u,a,f;r=n.split(".");i=r.pop();s=r.join(".");o=t.get(s);if(f=t.wrapped[s]){o=f.get()}if(o===null||o===undefined){return}if(!(u=t.cacheMap[s])){t.cacheMap[s]=[n]}else{if(u.indexOf(n)===-1){u.push(n)}}if(typeof o==="object"&&!(i in o)){return t.cache[n]=e}a=o[i];t.adapt(n,a,false);t.cache[n]=a;return a}var n={};return function(s){var o=arguments[1];if(o===void 0)o=n;var u=this.ractive,a=this.cache,f,l,c,h;if(a[s]===undefined){if(l=this.computations[s]){f=l.value}else if(c=this.wrapped[s]){f=c.value}else if(!s){this.adapt("",u.data);f=u.data}else if(h=this.evaluators[s]){f=h.value}else{f=r(this,s)}a[s]=f}else{f=a[s]}if(o.evaluateWrapped&&(c=this.wrapped[s])){f=c.get()}if(o.capture&&this.capturing&&this.captured.indexOf(s)===-1){this.captured.push(s);if(f===e&&this.unresolvedImplicitDependencies[s]!==true){new t(this,s)}}return f===e?void 0:f}}(Lo,Ao);var Mo=function(t,n){if(n){this.implicitChanges[t]=true}if(this.changes.indexOf(t)===-1){this.changes.push(t);this.clearCache(t)}};var _o=function(e,t){var n,r,i,s;n={};r=0;i=e.map(function(e,i){var o,u,a;u=r;a=t.length;do{o=t.indexOf(e,u);if(o===-1){s=true;return-1}u=o+1}while(n[o]&&u<a);if(o===r){r+=1}if(o!==i){s=true}n[o]=true;return o});i.unchanged=!s;return i};var Do=function(e,t,n){function i(t){return typeof t.merge==="function"&&(!t.subtype||t.subtype===e.SECTION_EACH)}function s(e){return JSON.stringify(e)}function o(e){if(e===true){return s}if(typeof e==="string"){if(!r[e]){r[e]=function(t){return t[e]}}return r[e]}if(typeof e==="function"){return e}throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var r={};return function(r,s,u,a){var f=this;var l,c,h,p,d;this.mark(r);if(a&&a.compare){h=o(a.compare);try{l=s.map(h);c=u.map(h)}catch(v){if(this.debug){throw v}else{t("Merge operation: comparison failed. Falling back to identity checking")}l=s;c=u}}else{l=s;c=u}p=n(l,c);p.forEach(function(e,t){if(e===-1){f.mark(r+"."+t)}});this.set(r,u,true);if(d=this.deps["default"][r]){d.filter(i).forEach(function(e){return e.merge(p)})}if(s.length!==u.length){this.mark(r+".length",true)}}}(R,H,_o);var Po=function(){function e(e,t,n){var r,i,s,o;r=t.split(".");while(r.length){r.pop();i=r.join(".");s=e.depsMap[n]||(e.depsMap[n]={});o=s[i]||(s[i]=[]);if(o[t]===undefined){o[t]=0;o.push(t)}o[t]+=1;t=i}}return function(n,r){var i=arguments[2];if(i===void 0)i="default";var s,o,u;if(r.isStatic){return}s=this.deps[i]||(this.deps[i]={});o=s[n]||(s[n]=[]);o.push(r);if(!n){return}if(u=this.evaluators[n]){if(!u.dependants){u.wake()}u.dependants+=1}e(this,n,i)}}();var Ho=function(){this.capturing=false;return this.captured};var Bo=function(e,t){return function(r,i,s){var o,u,a,f,l,c,h,p;if(e(this.cache[r],i)){return}l=this.computations[r];c=this.wrapped[r];h=this.evaluators[r];if(l&&!l.setting){l.set(i)}if(c&&c.reset){p=c.reset(i)!==false;if(p){i=c.get()}}if(h){h.value=i}if(!l&&!h&&!p){o=r.split(".");u=o.pop();a=o.join(".");c=this.wrapped[a];if(c&&c.set){c.set(u,i)}else{f=c?c.get():this.get(a);if(!f){f=t(u);this.set(a,f,true)}f[u]=i}}if(!s){this.mark(r)}else{this.clearCache(r)}}}(v,w);var jo=function(e){function t(t){return t.type===e.SECTION&&(!t.subtype||t.subtype===e.SECTION_EACH)&&t.rendered}return function(n,r){var i=this,s,o;for(s=r.rangeStart;s<r.rangeEnd;s+=1){i.mark(n+"."+s)}if(r.balance){i.mark(n+".length",true)}if(o=i.deps["default"][n]){o.filter(t).forEach(function(e){return e.splice(r)})}}}(R);var Fo=function(){var t=this;var n;Object.keys(this.cache).forEach(function(e){return t.clearCache(e)});while(n=this.unresolvedImplicitDependencies.pop()){n.teardown()}};var Io=function(){function e(e,t,n){var r,i,s,o;r=t.split(".");while(r.length){r.pop();i=r.join(".");s=e.depsMap[n];o=s[i];o[t]-=1;if(!o[t]){o.splice(o.indexOf(t),1);o[t]=undefined}t=i}}return function(n,r){var i=arguments[2];if(i===void 0)i="default";var s,o,u;if(r.isStatic){return}s=this.deps[i][n];o=s.indexOf(r);if(o===-1){throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks")}s.splice(o,1);if(!n){return}if(u=this.evaluators[n]){u.dependants-=1;if(!u.dependants){u.sleep()}}e(this,n,i)}}();var qo=function(){function t(t){var n="var __ractive=this;return("+t.replace(e,function(e,t){return'__ractive.get("'+t+'")'})+")";return new Function(n)}var e=/\$\{([^\}]+)\}/g;return function(e){if(typeof e==="function"){return{get:e}}if(typeof e==="string"){return{get:t(e)}}if(typeof e==="object"&&typeof e.get==="string"){e={get:t(e.get),set:e.set}}return e}}();var Ro=function(e,t,n){var r=function(e,t,n){this.ractive=e;this.viewmodel=e.viewmodel;this.key=t;this.getter=n.get;this.setter=n.set;this.dependencies=[];this.update()};r.prototype={set:function(e){if(this.setting){this.value=e;return}if(!this.setter){throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)")}this.setter.call(this.ractive,e)},compute:function(){var t,r,i;t=this.ractive;t.viewmodel.capture();try{this.value=this.getter.call(t)}catch(s){e.warn({debug:t.debug,message:"failedComputation",args:{key:this.key,err:s.message||s}});r=true}i=t.viewmodel.release();n(this,this.dependencies,i);return r?false:true},update:function(){var e=this.value;if(this.compute()&&!t(this.value,e)){this.ractive.viewmodel.mark(this.key)}}};return r}(Kn,v,Qn);var Uo=function(e,t){return function(r,i){var s,o;for(s in i){o=e(i[s]);r.viewmodel.computations[s]=new t(r,s,o)}}}(qo,Ro);var zo=function(){function t(e){if(typeof e==="string"){e=[e]}return e}var e={lookup:function(e,t){var n,r=e.adapt;if(!r||!r.length){return r}if(t&&Object.keys(t).length&&(n=r.length)){while(n--){var i=r[n];if(typeof i==="string"){r[n]=t[i]||i}}}return r},combine:function(e,n){e=t(e);n=t(n);if(!e||!e.length){return n}if(!n||!n.length){return e.slice()}e.forEach(function(e){if(n.indexOf(e)===-1){n.push(e)}});return n}};return e}();var Wo=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){var m;try{Object.defineProperty({},"test",{value:0})}catch(g){m=true}var y=function(t){this.ractive=t;y.extend(t.constructor,t);this.cache={};this.cacheMap=e(null);this.deps={computed:{},"default":{}};this.depsMap={computed:{},"default":{}};this.patternObservers=[];this.wrapped=e(null);this.evaluators=e(null);this.computations=e(null);this.captured=null;this.unresolvedImplicitDependencies=[];this.changes=[];this.implicitChanges={}};y.extend=function(e,t){if(t.magic&&m){throw new Error("Getters and setters (magic mode) are not supported in this browser")}t.adapt=v.combine(e.prototype.adapt,t.adapt)||[];t.adapt=v.lookup(t,t.adaptors)};y.prototype={adapt:t,applyChanges:n,capture:r,clearCache:i,get:s,mark:o,merge:u,register:a,release:f,set:l,splice:c,teardown:h,unregister:p,compute:function(){d(this.ractive,this.ractive.computed)}};return y}(U,Eo,No,Co,ko,Oo,Mo,Do,Po,Ho,Bo,jo,Fo,Io,Uo,zo);var Xo=function(e,t,n,r,i,s){function o(e){var t;if(t=n(e.el)){var r=e.transitionsEnabled;if(e.noIntro){e.transitionsEnabled=false}if(t&&!e.append){if(t.__ractive_instances__){try{t.__ractive_instances__.splice(0,t.__ractive_instances__.length).forEach(function(e){return e.teardown()})}catch(i){}}t.innerHTML=""}e.render(t,e.append);e.transitionsEnabled=r}}function u(e,n){e._guid=r();e._subs=t(null);e._config={};e._twowayBindings=t(null);e._animations=[];e.nodes={};e._liveQueries=[];e._liveComponentQueries=[];if(n._parent&&n._component){e._parent=n._parent;e.component=n._component;n._component.instance=e}}return function(n){var r=arguments[1];if(r===void 0)r={};u(n,r);e.init(n.constructor,n,r);n.viewmodel=new i(n);n.viewmodel.compute();if(n.template){n.fragment=new s({template:n.template,root:n,owner:n})}n.viewmodel.applyChanges();o(n)}}(zt,U,ln,mo,Wo,Gs);var Vo=function(e){return function(n,r,i){if(n.beforeInit){n.beforeInit(i)}e(n,i)}}(Xo);var $o=function(e,t,n,r){function a(t,n,r){for(var i in r){if(!(i in s)&&r.hasOwnProperty(i)){var o=r[i];if(typeof o==="function"){o=e(t,i,o)}n[i]=o}}}function f(e){if(!(e.prototype instanceof i)){return e}var n={};while(e){u.forEach(function(t){l(t.useDefaults?e.prototype:e,n,t.name)});Object.keys(e.prototype).forEach(function(r){if(r==="computed"){return}var i=e.prototype[r];if(!(r in n)){n[r]=i._method?i._method:i}else if(typeof n[r]==="function"&&typeof i==="function"&&n[r]._method){var s,o=i._method;if(o){i=i._method}s=t(n[r]._method,i);if(o){s._method=s}n[r]=s}});if(e._parent!==i){e=e._parent}else{e=false}}return n}function l(e,t,n){var r,i=Object.keys(e[n]);if(!i.length){return}if(!(r=t[n])){r=t[n]={}}i.filter(function(e){return!(e in r)}).forEach(function(t){return r[t]=e[n][t]})}var i,s={_parent:true,_component:true},o={toPrototype:a,toOptions:f},u=n.registries;n.keys.forEach(function(e){return s[e]=true});r.push(function(){i=r.Ractive});return o}(Rt,F,zt,i);var Jo=function(e,t,n,r,i,s,o){return function u(){var a=arguments[0];if(a===void 0)a={};var f=this,l,c,h;a=o.toOptions(a);l=function(e){i(this,l,e)};c=e(f.prototype);c.constructor=l;h={_guid:{value:n()},defaults:{value:c},extend:{value:u,writable:true,configurable:true},_parent:{value:f}};t(l,h);r.extend(f,c,a);s.extend(f,c);o.toPrototype(f.prototype,c,a);l.prototype=c;return l}}(U,k,vo,zt,Vo,Wo,$o);var Ko=function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p,d;p=function(e){c(this,e)};d={extend:{value:f},parse:{value:l},Promise:{value:u},svg:{value:r},magic:{value:i},VERSION:{value:"0.5.5"},adaptors:{writable:true,value:{}},components:{writable:true,value:{}},decorators:{writable:true,value:{}},easing:{writable:true,value:t},events:{writable:true,value:{}},interpolators:{writable:true,value:n},partials:{writable:true,value:{}},transitions:{writable:true,value:{}}};s(p,d);p.prototype=a(o,e);p.prototype.constructor=p;p.defaults=p.prototype;h.Ractive=p;while(h.length){h.pop()()}var v="function";if(typeof Date.now!==v||typeof String.prototype.trim!==v||typeof Object.keys!==v||typeof Array.prototype.indexOf!==v||typeof Array.prototype.forEach!==v||typeof Array.prototype.map!==v||typeof Array.prototype.filter!==v||typeof window!=="undefined"&&typeof window.addEventListener!==v){throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.")}return p}(n,r,f,l,S,k,po,h,mi,Jo,Dt,Xo,i);if(typeof module!=="undefined"&&module.exports){module.exports=Ko}else if(typeof define==="function"&&define.amd){define(function(){return Ko})}e.Ractive=Ko;Ko.noConflict=function(){e.Ractive=t;return Ko}})(typeof window!=="undefined"?window:this)